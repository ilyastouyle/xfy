{"ast":null,"code":"var _jsxFileName = \"/var/www/html/xfy/src/JsColor.js\";\nimport React, { Component } from 'react';\nimport '/src/plugings/jscolor';\n/**\n * JsColor\n */\n\nclass JsColor extends Component {\n  /**\n   * JsColor Constructor\n   * @param {*} props\n   */\n  constructor(props) {\n    super(props); // Initial state\n\n    this.state = {\n      color: props.value\n    };\n    /**\n     * Create references\n     */\n\n    this.colorInput = React.createRef();\n    this.colorSwatch = React.createRef(); // Bind methods\n\n    this.onChange = this.onChange.bind(this);\n    this.onFineChange = this.onFineChange.bind(this);\n    this.showColorPicker = this.showColorPicker.bind(this);\n  }\n  /**\n   * Component mounted\n   */\n\n\n  componentDidMount() {\n    // Setup jscolor\n    window.jscolor.installByClassName('jscolor-input'); // Bind events\n\n    this.colorInput.current.addEventListener('onFineChange', this.onFineChange);\n    this.colorInput.current.addEventListener('change', this.onChange);\n    this.colorInput.current.addEventListener('input', this.onChange); // Set background and color\n\n    this.colorSwatch.current.style.background = this.state.color;\n    this.colorSwatch.current.style.color = this.state.color;\n  }\n  /**\n   * Component will unmount\n   */\n\n\n  componentWillUnmount() {\n    this.colorInput.current.removeEventListener('onFineChange', this.onFineChange);\n    this.colorInput.current.removeEventListener('change', this.onFineChange);\n    this.colorInput.current.removeEventListener('input', this.onFineChange);\n  }\n  /**\n   * On JsColor value change\n   */\n\n\n  onChange() {\n    // Set state and call parent methods upon success set\n    this.setState({\n      color: this.colorInput.current.jscolor.toHEXString()\n    }, function () {\n      this.colorSwatch.current.style.background = this.state.color;\n      this.colorSwatch.current.style.color = this.state.color;\n      this.props.onChange(this.state.color);\n    });\n  }\n  /**\n   * On FineChange of JsColor\n   * @param {*} e\n   */\n\n\n  onFineChange(e) {\n    // Set state and call parent methods upon success set\n    this.setState({\n      color: \"#\".concat(e.detail.jscolor)\n    }, function () {\n      this.colorSwatch.current.style.background = this.state.color;\n      this.colorSwatch.current.style.color = this.state.color;\n      this.props.onChange(this.state.color);\n    });\n  }\n  /**\n   * Show color picker\n   */\n\n\n  showColorPicker() {\n    this.colorInput.current.jscolor.show();\n  }\n  /**\n   * Render component\n   */\n\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }, this.props.label ? React.createElement(\"div\", {\n      className: \"Polaris-Labelled__LabelWrapper\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"Polaris-Label\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      id: \"\".concat(this.props.id, \"Label\"),\n      htmlFor: this.props.id,\n      className: \"Polaris-Label__Text\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }, this.props.label))) : null, React.createElement(\"div\", {\n      className: \"Polaris-Connected\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"Polaris-Connected__Item Polaris-Connected__Item--connection\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      type: \"button\",\n      className: \"Polaris-Button Polaris-Button--outline\",\n      onClick: this.showColorPicker,\n      ref: this.colorSwatch,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"Polaris-Connected__Item Polaris-Connected__Item--primary\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"Polaris-TextField\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      id: this.props.id,\n      className: \"Polaris-TextField__Input jscolor-input {hash:true,styleElement:'',onFineChange:'jsColorOnFineChange(this)'}\",\n      \"aria-labelledby\": \"\".concat(this.props.id, \"Label\"),\n      \"aria-invalid\": \"false\",\n      value: this.props.value,\n      onChange: () => {},\n      onFocus: this.showColorPicker,\n      ref: this.colorInput,\n      maxLength: \"7\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"Polaris-TextField__Backdrop\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131\n      },\n      __self: this\n    })))));\n  }\n\n}\n/**\n * JsColor onFineChange callback\n * @param {*} thisObj\n */\n\n\nwindow.jsColorOnFineChange = function (thisObj) {\n  thisObj.valueElement.dispatchEvent(new CustomEvent('onFineChange', {\n    detail: {\n      jscolor: thisObj\n    }\n  }));\n};\n\nexport default JsColor;","map":{"version":3,"sources":["/var/www/html/xfy/src/JsColor.js"],"names":["React","Component","JsColor","constructor","props","state","color","value","colorInput","createRef","colorSwatch","onChange","bind","onFineChange","showColorPicker","componentDidMount","window","jscolor","installByClassName","current","addEventListener","style","background","componentWillUnmount","removeEventListener","setState","toHEXString","e","detail","show","render","label","id","jsColorOnFineChange","thisObj","valueElement","dispatchEvent","CustomEvent"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport '/src/plugings/jscolor';\n\n/**\n * JsColor\n */\nclass JsColor extends Component {\n\t/**\n\t * JsColor Constructor\n\t * @param {*} props\n\t */\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\t// Initial state\n\t\tthis.state = {\n\t\t\tcolor: props.value,\n\t\t};\n\n\t\t/**\n\t\t * Create references\n\t\t */\n\t\tthis.colorInput = React.createRef();\n\t\tthis.colorSwatch = React.createRef();\n\n\t\t// Bind methods\n\t\tthis.onChange = this.onChange.bind(this);\n\t\tthis.onFineChange = this.onFineChange.bind(this);\n\t\tthis.showColorPicker = this.showColorPicker.bind(this);\n\t}\n\n\t/**\n\t * Component mounted\n\t */\n\tcomponentDidMount() {\n\t\t// Setup jscolor\n\t\twindow.jscolor.installByClassName('jscolor-input');\n\n\t\t// Bind events\n\t\tthis.colorInput.current.addEventListener('onFineChange', this.onFineChange);\n\t\tthis.colorInput.current.addEventListener('change', this.onChange);\n\t\tthis.colorInput.current.addEventListener('input', this.onChange);\n\n\t\t// Set background and color\n\t\tthis.colorSwatch.current.style.background = this.state.color;\n\t\tthis.colorSwatch.current.style.color = this.state.color;\n\t}\n\n\t/**\n\t * Component will unmount\n\t */\n\tcomponentWillUnmount() {\n\t\tthis.colorInput.current.removeEventListener('onFineChange', this.onFineChange);\n\t\tthis.colorInput.current.removeEventListener('change', this.onFineChange);\n\t\tthis.colorInput.current.removeEventListener('input', this.onFineChange);\n\t}\n\n\t/**\n\t * On JsColor value change\n\t */\n\tonChange() {\n\t\t// Set state and call parent methods upon success set\n\t\tthis.setState({ color: this.colorInput.current.jscolor.toHEXString() }, function() {\n\t\t\tthis.colorSwatch.current.style.background = this.state.color;\n\t\t\tthis.colorSwatch.current.style.color = this.state.color;\n\t\t\tthis.props.onChange(this.state.color);\n\t\t});\n\t}\n\n\t/**\n\t * On FineChange of JsColor\n\t * @param {*} e\n\t */\n\tonFineChange(e) {\n\t\t// Set state and call parent methods upon success set\n\t\tthis.setState({ color: `#${e.detail.jscolor}` }, function() {\n\t\t\tthis.colorSwatch.current.style.background = this.state.color;\n\t\t\tthis.colorSwatch.current.style.color = this.state.color;\n\t\t\tthis.props.onChange(this.state.color);\n\t\t});\n\t}\n\n\t/**\n\t * Show color picker\n\t */\n\tshowColorPicker() {\n\t\tthis.colorInput.current.jscolor.show();\n\t}\n\n\t/**\n\t * Render component\n\t */\n\trender() {\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t{this.props.label ? (\n\t\t\t\t\t<div className=\"Polaris-Labelled__LabelWrapper\">\n\t\t\t\t\t\t<div className=\"Polaris-Label\">\n\t\t\t\t\t\t\t<label\n\t\t\t\t\t\t\t\tid={`${this.props.id}Label`}\n\t\t\t\t\t\t\t\thtmlFor={this.props.id}\n\t\t\t\t\t\t\t\tclassName=\"Polaris-Label__Text\">\n\t\t\t\t\t\t\t\t{this.props.label}\n\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t) : null}\n    \n\t\t\t\t<div className=\"Polaris-Connected\">\n\t\t\t\t\t<div className=\"Polaris-Connected__Item Polaris-Connected__Item--connection\">\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\tclassName=\"Polaris-Button Polaris-Button--outline\"\n\t\t\t\t\t\t\tonClick={this.showColorPicker}\n\t\t\t\t\t\t\tref={this.colorSwatch}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"Polaris-Connected__Item Polaris-Connected__Item--primary\">\n\t\t\t\t\t\t<div className=\"Polaris-TextField\">\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\tid={this.props.id}\n\t\t\t\t\t\t\t\tclassName=\"Polaris-TextField__Input jscolor-input {hash:true,styleElement:'',onFineChange:'jsColorOnFineChange(this)'}\"\n\t\t\t\t\t\t\t\taria-labelledby={`${this.props.id}Label`}\n\t\t\t\t\t\t\t\taria-invalid=\"false\"\n\t\t\t\t\t\t\t\tvalue={this.props.value}\n\t\t\t\t\t\t\t\tonChange={() => {}}\n\t\t\t\t\t\t\t\tonFocus={this.showColorPicker}\n\t\t\t\t\t\t\t\tref={this.colorInput}\n\t\t\t\t\t\t\t\tmaxLength=\"7\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<div className=\"Polaris-TextField__Backdrop\" />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n/**\n * JsColor onFineChange callback\n * @param {*} thisObj\n */\nwindow.jsColorOnFineChange = function(thisObj) {\n\tthisObj.valueElement.dispatchEvent(\n\t\tnew CustomEvent('onFineChange', { detail: { jscolor: thisObj } })\n\t);\n};\n\nexport default JsColor;\n"]},"metadata":{},"sourceType":"module"}