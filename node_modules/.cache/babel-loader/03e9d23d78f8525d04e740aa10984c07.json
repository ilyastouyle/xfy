{"ast":null,"code":"let Animations = {\n  morph: (curve1, curve2, time\n  /*time in seconds*/\n  , fps\n  /*frames per second*/\n  , executewithin, executeafter = null) => {\n    k = 0;\n    tab2 = [];\n    nbf = time * (fps / 1000);\n    var maininterval = window.setInterval(function () {\n      if (k <= nbf) {\n        if (k == 0) {\n          for (var i = 0; i < curve1.X.length; i++) {\n            tab1[i] = curve1.X[i];\n            tab2[i] = curve1.Y[i];\n          }\n        } else {\n          for (var i = 0; i < curve1.X.length; i++) {\n            //console.log((curve2.Y)[i] + (curve1.Y)[i])/2\n            tab1[i] = k * (curve2.X[curve2.X.length - 1 - i] - curve1.X[i]) / nbf + curve1.X[i];\n            var ai = (curve1.Y[i] - curve2.Y[curve2.Y.length - 1 - i]) / (curve1.X[i] - curve2.X[curve2.X.length - 1 - i]);\n            var bi = curve1.Y[i] - ai * curve1.X[i];\n            tab2[i] = ai * tab1[i] + bi;\n          }\n        } //console.log(tab2);\n\n\n        executewithin(tab1, tab2);\n        new Curve2d(tab1, tab2, \"#3A539B\", 3).draw(); //console.log(\"Iteration number \" + k);\n      } else {\n        window.clearInterval(maininterval);\n        executeafter(); //tab2 = [];\t\n      }\n\n      k++;\n    }, time / nbf);\n    return maininterval;\n  }\n};\nexport default Animations;","map":{"version":3,"sources":["/var/www/html/xfy/src/Animations.js"],"names":["Animations","morph","curve1","curve2","time","fps","executewithin","executeafter","k","tab2","nbf","maininterval","window","setInterval","i","X","length","tab1","Y","ai","bi","Curve2d","draw","clearInterval"],"mappings":"AAAA,IAAIA,UAAU,GAAG;AAChBC,EAAAA,KAAK,EAAE,CAACC,MAAD,EAASC,MAAT,EAAiBC;AAAK;AAAtB,IAA2CC;AAAI;AAA/C,IAAqEC,aAArE,EAAoFC,YAAY,GAAG,IAAnG,KAA4G;AAClHC,IAAAA,CAAC,GAAG,CAAJ;AACAC,IAAAA,IAAI,GAAG,EAAP;AACAC,IAAAA,GAAG,GAAGN,IAAI,IAAEC,GAAG,GAAC,IAAN,CAAV;AACA,QAAIM,YAAY,GAAGC,MAAM,CAACC,WAAP,CAAmB,YAAU;AAC/C,UAAGL,CAAC,IAAIE,GAAR,EAAY;AACX,YAAGF,CAAC,IAAI,CAAR,EAAU;AACT,eAAI,IAAIM,CAAC,GAAG,CAAZ,EAAeA,CAAC,GAAGZ,MAAM,CAACa,CAAP,CAASC,MAA5B,EAAoCF,CAAC,EAArC,EAAwC;AACvCG,YAAAA,IAAI,CAACH,CAAD,CAAJ,GAAUZ,MAAM,CAACa,CAAP,CAASD,CAAT,CAAV;AACAL,YAAAA,IAAI,CAACK,CAAD,CAAJ,GAAUZ,MAAM,CAACgB,CAAP,CAASJ,CAAT,CAAV;AACA;AACD,SALD,MAMI;AACH,eAAI,IAAIA,CAAC,GAAG,CAAZ,EAAeA,CAAC,GAAGZ,MAAM,CAACa,CAAP,CAASC,MAA5B,EAAoCF,CAAC,EAArC,EAAwC;AACvC;AACAG,YAAAA,IAAI,CAACH,CAAD,CAAJ,GAAUN,CAAC,IAAEL,MAAM,CAACY,CAAP,CAASZ,MAAM,CAACY,CAAP,CAASC,MAAT,GAAkB,CAAlB,GAAsBF,CAA/B,IAAoCZ,MAAM,CAACa,CAAP,CAASD,CAAT,CAAtC,CAAD,GAAoDJ,GAApD,GAA0DR,MAAM,CAACa,CAAP,CAASD,CAAT,CAApE;AACA,gBAAIK,EAAE,GAAG,CAACjB,MAAM,CAACgB,CAAP,CAASJ,CAAT,IAAcX,MAAM,CAACe,CAAP,CAASf,MAAM,CAACe,CAAP,CAASF,MAAT,GAAkB,CAAlB,GAAsBF,CAA/B,CAAf,KAAmDZ,MAAM,CAACa,CAAP,CAASD,CAAT,IAAcX,MAAM,CAACY,CAAP,CAASZ,MAAM,CAACY,CAAP,CAASC,MAAT,GAAkB,CAAlB,GAAsBF,CAA/B,CAAjE,CAAT;AACA,gBAAIM,EAAE,GAAGlB,MAAM,CAACgB,CAAP,CAASJ,CAAT,IAAcK,EAAE,GAACjB,MAAM,CAACa,CAAP,CAASD,CAAT,CAA1B;AACAL,YAAAA,IAAI,CAACK,CAAD,CAAJ,GAAUK,EAAE,GAACF,IAAI,CAACH,CAAD,CAAP,GAAaM,EAAvB;AACA;AACD,SAfU,CAgBX;;;AACAd,QAAAA,aAAa,CAACW,IAAD,EAAOR,IAAP,CAAb;AACC,YAAIY,OAAJ,CAAYJ,IAAZ,EAAkBR,IAAlB,EAAwB,SAAxB,EAAmC,CAAnC,CAAD,CAAwCa,IAAxC,GAlBW,CAmBX;AACA,OApBD,MAqBI;AACHV,QAAAA,MAAM,CAACW,aAAP,CAAqBZ,YAArB;AACAJ,QAAAA,YAAY,GAFT,CAGH;AACA;;AACDC,MAAAA,CAAC;AACD,KA5BkB,EA4BfJ,IAAI,GAACM,GA5BU,CAAnB;AA6BA,WAAOC,YAAP;AACA;AAnCe,CAAjB;AAsCA,eAAeX,UAAf","sourcesContent":["let Animations = {\n\tmorph: (curve1, curve2, time /*time in seconds*/, fps /*frames per second*/,executewithin, executeafter = null) => {\n\t\tk = 0;\n\t\ttab2 = [];\n\t\tnbf = time*(fps/1000);\n\t\tvar maininterval = window.setInterval(function(){\n\t\t\tif(k <= nbf){\n\t\t\t\tif(k == 0){\n\t\t\t\t\tfor(var i = 0; i < curve1.X.length; i++){\n\t\t\t\t\t\ttab1[i] = curve1.X[i];\n\t\t\t\t\t\ttab2[i] = curve1.Y[i];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tfor(var i = 0; i < curve1.X.length; i++){\n\t\t\t\t\t\t//console.log((curve2.Y)[i] + (curve1.Y)[i])/2\n\t\t\t\t\t\ttab1[i] = k*(curve2.X[curve2.X.length - 1 - i] - curve1.X[i])/nbf + curve1.X[i];\n\t\t\t\t\t\tvar ai = (curve1.Y[i] - curve2.Y[curve2.Y.length - 1 - i])/(curve1.X[i] - curve2.X[curve2.X.length - 1 - i]);\n\t\t\t\t\t\tvar bi = curve1.Y[i] - ai*curve1.X[i];\n\t\t\t\t\t\ttab2[i] = ai*tab1[i] + bi;\n\t\t\t\t\t}\n\t\t\t\t}\t\t\t\t\t\t\n\t\t\t\t//console.log(tab2);\n\t\t\t\texecutewithin(tab1, tab2);\n\t\t\t\t(new Curve2d(tab1, tab2, \"#3A539B\", 3)).draw();\n\t\t\t\t//console.log(\"Iteration number \" + k);\n\t\t\t}\n\t\t\telse{\n\t\t\t\twindow.clearInterval(maininterval);\t\n\t\t\t\texecuteafter();\n\t\t\t\t//tab2 = [];\t\n\t\t\t}\n\t\t\tk++;\n\t\t}, (time/nbf));\n\t\treturn maininterval;\n\t},\n};\n\nexport default Animations;"]},"metadata":{},"sourceType":"module"}