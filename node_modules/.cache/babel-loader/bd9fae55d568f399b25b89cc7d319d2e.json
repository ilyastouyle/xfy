{"ast":null,"code":"var _jsxFileName = \"/var/www/html/xfy/src/App.js\";\nimport React from 'react';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faCut, faAngleDown, faSave, faAngleLeft, faAngleRight, faPencilAlt, faSearchPlus, faSearchMinus, faArrowLeft, faArrowRight, faArrowUp, faArrowDown, faPlus, faPlay, faPause, faStop } from '@fortawesome/free-solid-svg-icons';\nimport Functions from './Library';\nimport Animations from './Animations';\nimport './stylesheets/App.css';\nlet curves = [[], []],\n    animations = [],\n    mainLoop = 0;\n\nclass Curve2d {\n  constructor(X, Y, color, width) {\n    this.X = X;\n    this.Y = Y;\n    this.color = \"#f3f1f3\";\n    this.width = width;\n  }\n\n}\n\nclass Animation {\n  /* \n  \ttype: type of animation (Integer) \n  \tanchor: starting point in time (Float)\n  \tduration: duration of animation in seconds (Float)\n  \tfps: frames per second (Integer)\n  \tcurvInd: the curves involved in the animation ([[0 or 1, index],[...],...])\n  */\n  constructor(type, anchor, duration, fps, curvInd) {\n    this.type = type;\n    this.curvInd = curvInd;\n    this.animCurves = [];\n    this.anchor = anchor;\n    this.duration = duration;\n    this.fps = fps;\n  }\n\n  execute(steps, thestep, canvasDim, frameNumber, context, executeBefore = () => {}) {\n    for (var i = 0; i < this.curvInd.length; i++) {\n      this.animCurves.push(curves[this.curvInd[i][0]][this.curvInd[i][1]]);\n    }\n\n    switch (this.type) {\n      //no animation\n      case 0:\n        executeBefore();\n        Functions.drawCurve(this.animCurves[0].width, this.animCurves[0].X, this.animCurves[0].Y, steps, thestep, canvasDim[0] / 2, canvasDim[1] / 2, this.animCurves[0].color, context);\n        break;\n      //morph curve1 into curve2 \n\n      case 1:\n        Animations.morph(this.animCurves, frameNumber, this.duration * this.fps, (tab1, tab2) => {\n          executeBefore();\n          Functions.drawCurve(this.animCurves[0].width, tab1, tab2, steps, thestep, canvasDim[0] / 2, canvasDim[1] / 2, this.animCurves[0], context);\n        });\n        break;\n    }\n  }\n\n}\n\n; //Wrapper Curve: Template for Functional and Parameterized Curves\n\nclass WrCurve extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.previous = () => {\n      this.setState({\n        cEdit: (this.state.cEdit - 1) % 5,\n        tempF: this.state.tempF.map((v, i) => i === this.state.cEdit - 1 ? this.input.value : v)\n      });\n      this.input.value = \"\";\n    };\n\n    this.next = () => {\n      this.setState({\n        cEdit: (this.state.cEdit + 1) % 5,\n        tempF: this.state.tempF.map((v, i) => i === this.state.cEdit - 1 ? this.input.value : v)\n      }, () => {\n        if (this.props.type === 0) {\n          if (!!this.state.tempF[1] && !!this.state.tempF[2]) {\n            curves[this.props.type][this.props.cindex].X = Functions.subdivide(parseFloat(this.state.tempF[1]), parseFloat(this.state.tempF[2]), 100);\n\n            for (let i = 0; i < curves[this.props.type][this.props.cindex].X.length; i++) {\n              let x = curves[this.props.type][this.props.cindex].X[i];\n              curves[this.props.type][this.props.cindex].Y[i] = eval(Functions.evaluateInput(this.state.tempF[0]));\n            }\n          }\n        } else {\n          if (!!this.state.tempF[1] && !!this.state.tempF[2] && !!this.state.tempF[3]) {\n            //Subdivided t parameter values tab\n            let tab1 = Functions.subdivide(parseFloat(this.state.tempF[2]), parseFloat(this.state.tempF[3]), 100);\n\n            for (let i = 0; i < tab1.length; i++) {\n              let t = tab1[i];\n              curves[this.props.type][this.props.cindex].X[i] = eval(Functions.evaluateInput(this.state.tempF[0]));\n              curves[this.props.type][this.props.cindex].Y[i] = eval(Functions.evaluateInput(this.state.tempF[1]));\n            }\n          }\n        }\n      });\n      this.input.value = \"\";\n    };\n\n    this.edit = () => {\n      this.setState({\n        cEdit: 1\n      });\n    };\n\n    this.save = () => {\n      this.setState({\n        cEdit: 0,\n        tempF: this.state.tempF.map((v, i) => i === this.state.cEdit - 1 ? this.input.value : v)\n      }, () => {\n        animations.push(new Animation(0, 1, 1, [[this.props.type, this.props.cindex]]));\n      });\n    };\n\n    this.inputHandler = e => {\n      if (e.which === 13) this.next();\n    };\n\n    this.state = {\n      cEdit: 0,\n      tempF: [null, null, null, null]\n    }; //animations.push(new Animation(0, 1, 1, [[this.props.type, this.props.cindex]]));\n  }\n\n  componentDidMount() {\n    window.MathJax.Hub.Queue([\"Typeset\", window.MathJax.Hub, \"parameters\"]);\n  }\n\n  componentDidUpdate() {\n    this.input.focus();\n    this.input.value = this.state.tempF[this.state.cEdit - 1];\n  }\n\n  render() {\n    let inputClasses = [],\n        placeholders = [],\n        labels = [];\n\n    if (this.props.type === 0) {\n      inputClasses = [\"f\", \"selected f\", \"selected value\", \"selected value\", \"selected value\"];\n      placeholders = [\"cos(sin(x))\", \"cos(sin(x))\", \"-1\", \"1\", \"100\"];\n      labels = [\"f_{ \" + (this.props.cindex + 1) + \" }(x)\", \"a\", \"b\", \"n\"];\n    } else {\n      inputClasses = [\"x\", \"selected x\", \"selected y\", \"selected value\", \"selected value\"];\n      placeholders = [\"cos(t)\", \"cos(t)\", \"sin(t)\", \"-4\", \"4\"];\n      labels = [\"x_{ \" + (this.props.cindex + 1) + \" }(t)\", \"y_{ \" + (this.props.cindex + 1) + \" }(t)\", \"a\", \"b\"];\n    }\n\n    return React.createElement(\"span\", {\n      className: \"input\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      className: \"delete\",\n      onClick: () => {\n        this.props.delete([this.props.type, this.props.cindex]);\n      },\n      style: {\n        display: this.state.cEdit ? \"none\" : \"inline\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123\n      },\n      __self: this\n    }, React.createElement(FontAwesomeIcon, {\n      icon: faCut,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123\n      },\n      __self: this\n    })), React.createElement(\"button\", {\n      className: \"dropdown\",\n      onClick: () => console.log(\"Drop Down\"),\n      style: {\n        display: this.state.cEdit ? \"none\" : \"inline\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124\n      },\n      __self: this\n    }, React.createElement(FontAwesomeIcon, {\n      icon: faAngleDown,\n      size: \"lg\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124\n      },\n      __self: this\n    })), React.createElement(\"button\", {\n      className: \"save\",\n      onClick: this.save,\n      style: {\n        display: this.state.cEdit ? \"inline\" : \"none\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125\n      },\n      __self: this\n    }, React.createElement(FontAwesomeIcon, {\n      icon: faSave,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125\n      },\n      __self: this\n    })), React.createElement(\"button\", {\n      className: \"previous\",\n      onClick: this.previous,\n      style: {\n        display: this.state.cEdit > 1 ? \"inline\" : \"none\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126\n      },\n      __self: this\n    }, React.createElement(FontAwesomeIcon, {\n      icon: faAngleLeft,\n      size: \"lg\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126\n      },\n      __self: this\n    })), React.createElement(\"label\", {\n      style: {\n        display: this.state.cEdit < 2 ? \"inline\" : \"none\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127\n      },\n      __self: this\n    }, \"\\\\(\", labels[0], \"\\\\)\"), React.createElement(\"label\", {\n      style: {\n        display: this.state.cEdit === 2 ? \"inline\" : \"none\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128\n      },\n      __self: this\n    }, \"\\\\(\", labels[1], \"\\\\)\"), React.createElement(\"label\", {\n      style: {\n        display: this.state.cEdit === 3 ? \"inline\" : \"none\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129\n      },\n      __self: this\n    }, \"\\\\(\", labels[2], \"\\\\)\"), React.createElement(\"label\", {\n      style: {\n        display: this.state.cEdit === 4 ? \"inline\" : \"none\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130\n      },\n      __self: this\n    }, \"\\\\(\", labels[3], \"\\\\)\"), React.createElement(\"input\", {\n      className: inputClasses[this.state.cEdit],\n      type: \"text\",\n      ref: input => {\n        this.input = input;\n      },\n      onKeyUp: this.inputHandler,\n      placeholder: placeholders[this.state.cEdit],\n      onChange: () => {},\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      className: \"next\",\n      onClick: this.next,\n      style: {\n        display: this.state.cEdit ? \"inline\" : \"none\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132\n      },\n      __self: this\n    }, React.createElement(FontAwesomeIcon, {\n      icon: faAngleRight,\n      size: \"lg\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132\n      },\n      __self: this\n    })), React.createElement(\"button\", {\n      className: \"edit\",\n      onClick: this.edit,\n      style: {\n        display: this.state.cEdit ? \"none\" : \"inline\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133\n      },\n      __self: this\n    }, React.createElement(FontAwesomeIcon, {\n      icon: faPencilAlt,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133\n      },\n      __self: this\n    })), React.createElement(\"input\", {\n      className: \"jscolor\",\n      value: \"#3A539B\",\n      onChange: () => {},\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134\n      },\n      __self: this\n    })));\n  }\n\n}\n\nclass Settings extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {};\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      id: \"settWrapper\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146\n      },\n      __self: this\n    }, React.createElement(\"nav\", {\n      id: \"centerControls\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: \"title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148\n      },\n      __self: this\n    }, React.createElement(\"h4\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149\n      },\n      __self: this\n    }, \"Settings\")), React.createElement(\"span\", {\n      className: \"buttons\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      onClick: this.newCurve,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152\n      },\n      __self: this\n    }, \" Reset \"), React.createElement(\"button\", {\n      onClick: this.newPCurve,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153\n      },\n      __self: this\n    }, \" Save \"))), React.createElement(\"div\", {\n      id: \"fsettings\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"column\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159\n      },\n      __self: this\n    }, \"Curve thickness: \"), React.createElement(\"span\", {\n      className: \"scontainer\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: \"thickness\",\n      id: \"thn\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160\n      },\n      __self: this\n    })), React.createElement(\"span\", {\n      className: \"scontainer selected\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: \"thickness\",\n      id: \"md\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161\n      },\n      __self: this\n    })), React.createElement(\"span\", {\n      className: \"scontainer\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: \"thickness\",\n      id: \"thk\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"column\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165\n      },\n      __self: this\n    }, \"Divide into: \"), React.createElement(\"input\", {\n      type: \"text\",\n      id: \"divide\",\n      placeholder: \"20\",\n      maxLength: \"3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      id: \"divideb\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166\n      },\n      __self: this\n    }, \"Divide\"))), React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"column\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171\n      },\n      __self: this\n    }, \"Dash size & spacing: \"), React.createElement(\"input\", {\n      id: \"dash\",\n      placeholder: \"3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172\n      },\n      __self: this\n    }), \" &\", React.createElement(\"input\", {\n      id: \"spacing\",\n      placeholder: \"2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"column\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176\n      },\n      __self: this\n    }, \"Duration: \"), React.createElement(\"input\", {\n      type: \"text\",\n      id: \"duration\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177\n      },\n      __self: this\n    }), \" seconds\")), React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"column\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182\n      },\n      __self: this\n    }, \"Animation: \"), React.createElement(\"div\", {\n      className: \"container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      className: \"anim\",\n      id: \"noanim\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184\n      },\n      __self: this\n    }, \"No animation\"), React.createElement(\"button\", {\n      className: \"anim\",\n      id: \"completeb\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185\n      },\n      __self: this\n    }, \"Complete\"), React.createElement(\"button\", {\n      className: \"anim\",\n      id: \"chase\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186\n      },\n      __self: this\n    }, \"Chase\"), React.createElement(\"button\", {\n      className: \"anim\",\n      id: \"morph\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187\n      },\n      __self: this\n    }, \"Morph\"), React.createElement(\"button\", {\n      className: \"anim\",\n      id: \"rotate\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 188\n      },\n      __self: this\n    }, \"Rotate\"), React.createElement(\"button\", {\n      className: \"anim\",\n      id: \"recompose\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 189\n      },\n      __self: this\n    }, \"Recompose\"), React.createElement(\"button\", {\n      className: \"anim\",\n      id: \"mover\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190\n      },\n      __self: this\n    }, \"Scroll right\"), React.createElement(\"button\", {\n      className: \"anim\",\n      id: \"movel\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 191\n      },\n      __self: this\n    }, \"Scroll left\"), React.createElement(\"button\", {\n      className: \"anim\",\n      id: \"moveu\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192\n      },\n      __self: this\n    }, \"Scroll up\"), React.createElement(\"button\", {\n      className: \"anim\",\n      id: \"moved\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193\n      },\n      __self: this\n    }, \"Scroll down\")))), React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 197\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"column\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 198\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 199\n      },\n      __self: this\n    }, \"Opaque\")))));\n  }\n\n}\n\nclass Canvas extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.play = () => {\n      let A = this.state;\n      const canvas = this.refs.canvas;\n      const context = canvas.getContext(\"2d\");\n      this.setState((state, props) => {\n        let newState = state; //Temporary xstep, ystep\n\n        let tstep = Functions.Maximum([Functions.xstep([...curves[0], ...curves[1]], A.drawnSteps.nbSteps.x, A.drawnSteps.offStepSteps.x), Functions.ystep([...curves[0], ...curves[1]], A.drawnSteps.nbSteps.y, A.drawnSteps.offStepSteps.y)]);\n        newState.steps.x = [tstep, tstep];\n        newState.steps.y = [tstep, tstep];\n        return newState;\n      }, () => {\n        let frameDuration = Functions.Minimum(animations.map(el => 1000 / el.fps));\n        let totalDuration = Functions.Maximum(animations.map(el => el.anchor + el.duration));\n        let k = 0;\n        let drawFramePointer = this.drawFrame;\n        animations.forEach(el => console.log(el.type));\n        if (!!mainLoop) window.clearInterval(mainLoop);\n        mainLoop = window.setInterval(function () {\n          //console.log(\"k: \" + k);\n          if (k < totalDuration * 1000 / frameDuration) {\n            k++;\n            drawFramePointer();\n            animations.forEach((el, ind) => {\n              let animation = el;\n              animation.fps = 1000 / frameDuration;\n\n              if (k >= animation.anchor * animation.fps && k <= animation.anchor * animation.fps + animation.duration * animation.fps) {\n                //Feeding the execute function (k - animation.anchor*animation.fps) instead of k, as if the animation just started with its anchor \n                animation.execute([A.steps.x, A.steps.y], [A.drawnSteps.stepSize.x, A.drawnSteps.stepSize.y], [canvas.width, canvas.height], k - animation.anchor * animation.fps, context);\n              }\n            });\n          } else {\n            window.clearInterval(mainLoop);\n            mainLoop = 0;\n          }\n        }, frameDuration);\n        /*for(let i = 0; i < animations.length; i++){\n        \tanimations[i].execute([A.steps.x, A.steps.y], [A.drawnSteps.stepSize.x, A.drawnSteps.stepSize.y], [canvas.width, canvas.height], context, this.drawFrame);\n        }*/\n      });\n    };\n\n    this.drawFrame = () => {\n      let A = this.state;\n      const canvas = this.refs.canvas;\n      const context = canvas.getContext(\"2d\");\n      context.clearRect(0, 0, canvas.width, canvas.height);\n      Functions.drawYAxis(canvas.width / 2, A.colors.axeColor, canvas.height, A.widths.axeWidth, context);\n      Functions.drawXAxis(canvas.height / 2, A.colors.axeColor, canvas.width, A.widths.axeWidth, context);\n      Functions.drawOnX(canvas.width / 2, canvas.height / 2, A.steps.x[0], A.drawnSteps.nbSteps.x[0], A.drawnSteps.stepSize.x[0], A.colors.dashColor, A.colors.wireColor, A.widths.dashWidth.x[0], A.widths.wireWidth[0], A.font.x[0], context);\n      Functions.drawOnY(canvas.width / 2, canvas.height / 2, A.steps.y[0], A.drawnSteps.nbSteps.y[0], A.drawnSteps.stepSize.y[0], A.colors.dashColor, A.colors.wireColor, A.widths.dashWidth.y[0], A.widths.wireWidth[0], A.font.y[0], context);\n      Functions.drawOnMinusX(canvas.width / 2, canvas.height / 2, A.steps.x[1], A.drawnSteps.nbSteps.x[0], A.drawnSteps.stepSize.x[1], A.colors.dashColor, A.colors.wireColor, A.widths.dashWidth.x[1], A.widths.wireWidth[0], A.font.x[1], context);\n      Functions.drawOnMinusY(canvas.width / 2, canvas.height / 2, A.steps.y[1], A.drawnSteps.nbSteps.y[1], A.drawnSteps.stepSize.y[1], A.colors.dashColor, A.colors.wireColor, A.widths.dashWidth.y[1], A.widths.wireWidth[0], A.font.y[1], context);\n    };\n\n    this.state = {\n      colors: {\n        axeColor: \"#e6e4e7\",\n        wireColor: \"#28262d\",\n        dashColor: \"#e6e4e7\",\n        curveColor: \"#ebe9ec\"\n      },\n      widths: {\n        axeWdith: [1, 1],\n        wireWidth: [1, 1],\n        dashWidth: {\n          x: [2, 2],\n          y: [2, 2]\n        }\n      },\n      drawnSteps: {\n        nbSteps: {\n          x: [9, 9],\n          y: [8, 8]\n        },\n        offStepSteps: {\n          x: [1, 1],\n          y: [1, 1]\n        },\n        stepSize: {\n          x: [35, 35],\n          //for positive then negative x\n          y: [35, 35] //for positive then negative y\n\n        }\n      },\n      font: {\n        x: [\"11px Arial\", \"11px Arial\"],\n        y: [\"11px Arial\", \"11px Arial\"]\n      },\n      steps: {\n        x: [.25, .25],\n        y: [.25, .25]\n      }\n    };\n  }\n\n  componentDidMount() {\n    this.setState({\n      canvas: this.refs.canvasW\n    }, () => {\n      this.setState(() => {\n        let tempSteps = this.state.drawnSteps;\n        let nbXSteps = parseInt(this.state.canvas.clientWidth / 2 / tempSteps.stepSize.x[0]);\n        let nbYSteps = parseInt(this.state.canvas.clientHeight / 2 / tempSteps.stepSize.y[0]);\n        tempSteps.nbSteps.x = [nbXSteps, nbXSteps];\n        tempSteps.nbSteps.y = [nbYSteps, nbYSteps];\n        return tempSteps;\n      });\n    });\n  }\n\n  componentDidUpdate() {}\n\n  render() {\n    if (!this.state.canvas) {\n      return React.createElement(\"div\", {\n        id: \"canvasWrapper\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 320\n        },\n        __self: this\n      }, React.createElement(LControls, {\n        play: this.play,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 321\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        id: \"canvas\",\n        ref: \"canvasW\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 322\n        },\n        __self: this\n      }));\n    } else {\n      return React.createElement(\"div\", {\n        id: \"canvasWrapper\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 326\n        },\n        __self: this\n      }, React.createElement(LControls, {\n        play: this.play,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 327\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        id: \"canvas\",\n        ref: \"canvasW\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 328\n        },\n        __self: this\n      }, React.createElement(\"canvas\", {\n        ref: \"canvas\",\n        id: \"graph\",\n        width: this.state.canvas.clientWidth,\n        height: this.state.canvas.clientHeight,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 329\n        },\n        __self: this\n      }), React.createElement(\"canvas\", {\n        id: \"toplayer\",\n        width: this.state.canvas.clientWidth,\n        height: this.state.canvas.clientHeight,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 330\n        },\n        __self: this\n      })));\n    }\n  }\n\n}\n\nclass LControls extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {};\n  }\n\n  render() {\n    return React.createElement(\"nav\", {\n      id: \"leftControls\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 344\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 345\n      },\n      __self: this\n    }, React.createElement(\"h4\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 346\n      },\n      __self: this\n    }, \"Animation 1 \")), React.createElement(\"nav\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 348\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      onClick: this.props.play,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 349\n      },\n      __self: this\n    }, React.createElement(FontAwesomeIcon, {\n      icon: faPlay,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 349\n      },\n      __self: this\n    })), React.createElement(\"button\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 350\n      },\n      __self: this\n    }, React.createElement(FontAwesomeIcon, {\n      icon: faPause,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 350\n      },\n      __self: this\n    })), React.createElement(\"button\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 351\n      },\n      __self: this\n    }, React.createElement(FontAwesomeIcon, {\n      icon: faStop,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 351\n      },\n      __self: this\n    }))), React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 353\n      },\n      __self: this\n    }, React.createElement(\"h4\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 354\n      },\n      __self: this\n    }, \"4 seconds \")), React.createElement(\"nav\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 356\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 357\n      },\n      __self: this\n    }, React.createElement(FontAwesomeIcon, {\n      icon: faSearchPlus,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 357\n      },\n      __self: this\n    })), React.createElement(\"button\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 358\n      },\n      __self: this\n    }, React.createElement(FontAwesomeIcon, {\n      icon: faSearchMinus,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 358\n      },\n      __self: this\n    })), React.createElement(\"button\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 359\n      },\n      __self: this\n    }, React.createElement(FontAwesomeIcon, {\n      icon: faArrowLeft,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 359\n      },\n      __self: this\n    })), React.createElement(\"button\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 360\n      },\n      __self: this\n    }, React.createElement(FontAwesomeIcon, {\n      icon: faArrowRight,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 360\n      },\n      __self: this\n    })), React.createElement(\"button\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 361\n      },\n      __self: this\n    }, React.createElement(FontAwesomeIcon, {\n      icon: faArrowUp,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 361\n      },\n      __self: this\n    })), React.createElement(\"button\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 362\n      },\n      __self: this\n    }, React.createElement(FontAwesomeIcon, {\n      icon: faArrowDown,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 362\n      },\n      __self: this\n    }))), React.createElement(\"nav\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 364\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 365\n      },\n      __self: this\n    }, React.createElement(\"b\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 365\n      },\n      __self: this\n    }, \"Save\")), React.createElement(\"button\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 366\n      },\n      __self: this\n    }, React.createElement(\"b\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 366\n      },\n      __self: this\n    }, \"Export\"))));\n  }\n\n}\n\nclass RControls extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {};\n  }\n\n  render() {\n    return React.createElement(\"nav\", {\n      id: \"rightControls\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 379\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: \"title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 380\n      },\n      __self: this\n    }, React.createElement(\"h4\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 381\n      },\n      __self: this\n    }, \"Curves\")), React.createElement(\"span\", {\n      className: \"buttons\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 383\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 384\n      },\n      __self: this\n    }, \" Clear All \")));\n  }\n\n}\n\nclass ParamWrapper extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.newCurve = () => {\n      curves[0].push(new Curve2d([], [], \"#FFFFFF\", 3));\n      animations.push(new Animation(0, 0, 1, 10, [[0, curves[0].length - 1]]));\n      this.setState({\n        curves: curves\n      });\n    };\n\n    this.newPCurve = () => {\n      curves[1].push(new Curve2d([], [], \"#FFFFFF\", 3));\n      animations.push(new Animation(0, 0, 1, 10, [[1, curves[1].length - 1]]));\n      this.setState({\n        curves: curves\n      });\n    };\n\n    this.delete = arg => {\n      curves[arg[0]].splice(arg[1], 1);\n      let indice = []; //Deleting curve from relevant animation\n\n      animations.forEach((el, ind) => {\n        el.curvInd = el.curvInd.filter((element, index) => {\n          if (element[0] == arg[0] && element[1] == arg[1]) {\n            indice[0] = ind;\n            indice[1] = index;\n          }\n\n          ;\n          return !(element[0] == arg[0] && element[1] == arg[1]);\n        });\n      }); //Adjusting curve indices after deletion\n\n      animations.forEach((el, ind) => {\n        if (ind == indice[0]) {\n          if (!!el.curvInd[indice[1]]) {\n            el.curvInd.forEach((element, index) => element[1] -= index >= indice[1] && element[0] == arg[0] ? 1 : 0);\n          }\n        }\n\n        if (ind > indice[0]) {\n          el.curvInd.forEach((element, index) => element[1] -= element[0] == arg[0] ? 1 : 0);\n        }\n      }); //Deleting empty animations that may be due to deletion\n\n      animations = animations.filter(el => el.curvInd.length > 0); //Ajdusting animations left with only one curve by setting their type to 0\n\n      animations.forEach(el => {\n        if (el.curvInd.length == 1) el.type = 0;\n      });\n      this.setState({\n        curves: curves\n      });\n    };\n\n    this.state = {\n      curves: curves\n    };\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      id: \"paramWrapper\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 437\n      },\n      __self: this\n    }, React.createElement(RControls, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 438\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      id: \"parameters\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 439\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"buttons\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 440\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      id: \"addc\",\n      onClick: this.newCurve,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 441\n      },\n      __self: this\n    }, \" \", React.createElement(FontAwesomeIcon, {\n      icon: faPlus,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 441\n      },\n      __self: this\n    }), \" FCurve \"), React.createElement(\"button\", {\n      id: \"addp\",\n      onClick: this.newPCurve,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 442\n      },\n      __self: this\n    }, \" \", React.createElement(FontAwesomeIcon, {\n      icon: faPlus,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 442\n      },\n      __self: this\n    }), \" PCurve \")), React.createElement(\"div\", {\n      className: \"inputs\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 444\n      },\n      __self: this\n    }, animations.map((el, ind) => {\n      if (el.curvInd.length == 1) {\n        return React.createElement(WrCurve, {\n          key: [el.curvInd[0][0], el.curvInd[0][1]].toString(),\n          type: el.curvInd[0][0],\n          cindex: el.curvInd[0][1],\n          delete: this.delete,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 447\n          },\n          __self: this\n        });\n      } else {\n        return React.createElement(\"span\", {\n          className: \"inputWrapper\",\n          key: ind,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 450\n          },\n          __self: this\n        }, el.curvInd.map((element, index) => {\n          return React.createElement(WrCurve, {\n            key: [element[0], element[1]].toString(),\n            type: element[0],\n            cindex: element[1],\n            delete: this.delete,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 452\n            },\n            __self: this\n          });\n        }));\n      }\n    })), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 458\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      id: \"logo\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 460\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: \"drawing.svg\",\n      width: \"35%\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 461\n      },\n      __self: this\n    })));\n  }\n\n}\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    curves[0].push(new Curve2d([], [], \"#FFFFFF\", 3));\n    curves[0].push(new Curve2d([], [], \"#FFFFFF\", 3));\n    curves[0].push(new Curve2d([], [], \"#FFFFFF\", 3));\n    curves[0].push(new Curve2d([], [], \"#FFFFFF\", 3));\n    animations.push(new Animation(1, 0, 1, 50, [[0, 0], [0, 1]]));\n    animations.push(new Animation(1, 1, 1, 50, [[0, 2], [0, 3]]));\n    this.state = {\n      curves: curves\n    };\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      id: \"main\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 479\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      id: \"core\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 480\n      },\n      __self: this\n    }, React.createElement(Canvas, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 481\n      },\n      __self: this\n    }), React.createElement(Settings, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 482\n      },\n      __self: this\n    }), React.createElement(ParamWrapper, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 483\n      },\n      __self: this\n    })));\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/var/www/html/xfy/src/App.js"],"names":["React","FontAwesomeIcon","faCut","faAngleDown","faSave","faAngleLeft","faAngleRight","faPencilAlt","faSearchPlus","faSearchMinus","faArrowLeft","faArrowRight","faArrowUp","faArrowDown","faPlus","faPlay","faPause","faStop","Functions","Animations","curves","animations","mainLoop","Curve2d","constructor","X","Y","color","width","Animation","type","anchor","duration","fps","curvInd","animCurves","execute","steps","thestep","canvasDim","frameNumber","context","executeBefore","i","length","push","drawCurve","morph","tab1","tab2","WrCurve","Component","props","previous","setState","cEdit","state","tempF","map","v","input","value","next","cindex","subdivide","parseFloat","x","eval","evaluateInput","t","edit","save","inputHandler","e","which","componentDidMount","window","MathJax","Hub","Queue","componentDidUpdate","focus","render","inputClasses","placeholders","labels","delete","display","console","log","Settings","newCurve","newPCurve","Canvas","play","A","canvas","refs","getContext","newState","tstep","Maximum","xstep","drawnSteps","nbSteps","offStepSteps","ystep","y","frameDuration","Minimum","el","totalDuration","k","drawFramePointer","drawFrame","forEach","clearInterval","setInterval","ind","animation","stepSize","height","clearRect","drawYAxis","colors","axeColor","widths","axeWidth","drawXAxis","drawOnX","dashColor","wireColor","dashWidth","wireWidth","font","drawOnY","drawOnMinusX","drawOnMinusY","curveColor","axeWdith","canvasW","tempSteps","nbXSteps","parseInt","clientWidth","nbYSteps","clientHeight","LControls","RControls","ParamWrapper","arg","splice","indice","filter","element","index","toString","App"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faCut, faAngleDown, faSave, faAngleLeft, faAngleRight, faPencilAlt, faSearchPlus, faSearchMinus, faArrowLeft, faArrowRight, faArrowUp, faArrowDown, faPlus, faPlay, faPause, faStop } from '@fortawesome/free-solid-svg-icons';\nimport Functions from './Library';\nimport Animations from './Animations';\nimport './stylesheets/App.css';\n\nlet curves = [[], []], animations = [], mainLoop = 0;\n\nclass Curve2d{\n\tconstructor(X, Y, color, width) {\n\t\tthis.X = X;\n\t\tthis.Y = Y;\n\t\tthis.color = \"#f3f1f3\";\n\t\tthis.width = width;\n\t}\n}\nclass Animation{\n\t/* \n\t\ttype: type of animation (Integer) \n\t\tanchor: starting point in time (Float)\n\t\tduration: duration of animation in seconds (Float)\n\t\tfps: frames per second (Integer)\n\t\tcurvInd: the curves involved in the animation ([[0 or 1, index],[...],...])\n\t*/\n\tconstructor(type, anchor, duration, fps, curvInd){\n\t\tthis.type = type;\n\t\tthis.curvInd = curvInd;\n\t\tthis.animCurves = [];\n\t\tthis.anchor = anchor;\n\t\tthis.duration = duration;\n\t\tthis.fps = fps;\n\t}\n\texecute(steps, thestep, canvasDim, frameNumber, context, executeBefore = () => {} ){\n\t\tfor(var i = 0; i < this.curvInd.length; i++){\n\t\t\tthis.animCurves.push(curves[this.curvInd[i][0]][this.curvInd[i][1]]);\n\t\t}\n\t\tswitch(this.type){\n\t\t\t//no animation\n\t\t\tcase 0:\n\t\t\t\texecuteBefore();\n\t\t\t\tFunctions.drawCurve(this.animCurves[0].width, this.animCurves[0].X, this.animCurves[0].Y, steps, thestep, canvasDim[0]/2, canvasDim[1]/2, this.animCurves[0].color, context);\n\t\t\t\tbreak;\n\t\t\t//morph curve1 into curve2 \n\t\t\tcase 1:\n\t\t\t\tAnimations.morph(this.animCurves, frameNumber, this.duration*this.fps, (tab1, tab2) => {\n\t\t\t\t\texecuteBefore();\n\t\t\t\t\tFunctions.drawCurve(this.animCurves[0].width, tab1, tab2, steps, thestep, canvasDim[0]/2, canvasDim[1]/2, this.animCurves[0], context);\n\t\t\t\t});\n\t\t\t\tbreak;\n\t\t}\n\t}\n};\n\n//Wrapper Curve: Template for Functional and Parameterized Curves\nclass WrCurve extends React.Component{\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = { cEdit: 0, tempF: [ null, null, null, null ] };\n\t\t//animations.push(new Animation(0, 1, 1, [[this.props.type, this.props.cindex]]));\n\t}\n\tcomponentDidMount(){\n\t\twindow.MathJax.Hub.Queue([\"Typeset\", window.MathJax.Hub, \"parameters\"]);\n\t}\n\tcomponentDidUpdate(){\n\t\tthis.input.focus();\n\t\tthis.input.value = this.state.tempF[this.state.cEdit - 1];\n\t}\n\tprevious = () => {\n\t\tthis.setState({ cEdit: (this.state.cEdit - 1) % 5, tempF: this.state.tempF.map((v, i) => (i === this.state.cEdit - 1) ? this.input.value : v)});\n\t\tthis.input.value = \"\";\n\t};\n\tnext = () => {\n\t\tthis.setState({ cEdit: (this.state.cEdit + 1) % 5, tempF: this.state.tempF.map((v, i) => (i === this.state.cEdit - 1) ? this.input.value : v)}, () => {\n\t\t\tif(this.props.type === 0){\n\t\t\t\tif(!!this.state.tempF[1] && !!this.state.tempF[2]){\n\t\t\t\t\tcurves[this.props.type][this.props.cindex].X = Functions.subdivide(parseFloat(this.state.tempF[1]), parseFloat(this.state.tempF[2]), 100);\n\t\t\t\t\tfor(let i = 0; i < curves[this.props.type][this.props.cindex].X.length; i++){\n\t\t\t\t\t\tlet x = (curves[this.props.type][this.props.cindex].X)[i];\n\t\t\t\t\t\tcurves[this.props.type][this.props.cindex].Y[i] = eval(Functions.evaluateInput(this.state.tempF[0]));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\telse{\n\t\t\t\tif(!!this.state.tempF[1] && !!this.state.tempF[2] && !!this.state.tempF[3]){\n\t\t\t\t\t//Subdivided t parameter values tab\n\t\t\t\t\tlet tab1 = Functions.subdivide(parseFloat(this.state.tempF[2]), parseFloat(this.state.tempF[3]), 100);\n\t\t\t\t\tfor(let i = 0; i < tab1.length; i++){\n\t\t\t\t\t\tlet t = tab1[i];\n\t\t\t\t\t\tcurves[this.props.type][this.props.cindex].X[i] = eval(Functions.evaluateInput(this.state.tempF[0]));\n\t\t\t\t\t\tcurves[this.props.type][this.props.cindex].Y[i] = eval(Functions.evaluateInput(this.state.tempF[1]));\n\t\t\t\t\t}\n\t\t\t\t}\t\n\t\t\t}\n\t\t});\n\t\tthis.input.value = \"\";\n\t};\n\tedit = () => {\n\t\tthis.setState({ cEdit: 1 });\n\t};\t\n\tsave = () => {\n\t\tthis.setState({ cEdit: 0, tempF: this.state.tempF.map((v, i) => (i === this.state.cEdit - 1) ? this.input.value : v)}, () => {\n\t\t\tanimations.push(new Animation(0, 1, 1, [[this.props.type, this.props.cindex]]));\n\t\t});\n\t};\n\tinputHandler = (e) => {\n\t\tif(e.which === 13) this.next();\n\t};\n\trender(){\n\t\tlet inputClasses = [], placeholders = [], labels = [];\n\t\tif(this.props.type === 0){\n\t\t\tinputClasses = [\"f\", \"selected f\", \"selected value\", \"selected value\", \"selected value\"]; \n\t\t\tplaceholders = [\"cos(sin(x))\", \"cos(sin(x))\", \"-1\", \"1\", \"100\"];\n\t\t\tlabels = [\"f_{ \" + (this.props.cindex + 1) + \" }(x)\", \"a\", \"b\", \"n\"];\n\t\t}else{\n\t\t\tinputClasses = [\"x\", \"selected x\", \"selected y\", \"selected value\", \"selected value\"]\n\t\t\tplaceholders = [\"cos(t)\", \"cos(t)\", \"sin(t)\", \"-4\", \"4\"];\n\t\t\tlabels = [\"x_{ \" + (this.props.cindex + 1) + \" }(t)\", \"y_{ \" + (this.props.cindex + 1) + \" }(t)\", \"a\", \"b\"];\n\t\t} \n\t\treturn (<span className=\"input\">\n\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t<button className=\"delete\" onClick={() => {this.props.delete([this.props.type, this.props.cindex])}} style={{display: (this.state.cEdit) ? \"none\" : \"inline\"}}><FontAwesomeIcon icon={faCut}/></button>\n\t\t\t\t\t\t\t<button className=\"dropdown\" onClick={() => console.log(\"Drop Down\")} style={{display: (this.state.cEdit) ? \"none\" : \"inline\"}}><FontAwesomeIcon icon={faAngleDown} size=\"lg\"/></button>\n\t\t\t\t\t\t\t<button className=\"save\" onClick={this.save} style={{display: (this.state.cEdit) ? \"inline\" : \"none\"}}><FontAwesomeIcon icon={faSave}/></button>\n\t\t\t\t\t\t\t<button className=\"previous\" onClick={this.previous} style={{display: (this.state.cEdit > 1) ? \"inline\" : \"none\"}}><FontAwesomeIcon icon={faAngleLeft} size=\"lg\"/></button>\n\t\t\t\t\t\t\t<label style={{display: (this.state.cEdit < 2) ? \"inline\" : \"none\"}}>&#92;({labels[0]}&#92;)</label>\n\t\t\t\t\t\t\t<label style={{display: (this.state.cEdit === 2) ? \"inline\" : \"none\"}}>&#92;({labels[1]}&#92;)</label>\n\t\t\t\t\t\t\t<label style={{display: (this.state.cEdit === 3) ? \"inline\" : \"none\"}}>&#92;({labels[2]}&#92;)</label>\n\t\t\t\t\t\t\t<label style={{display: (this.state.cEdit === 4) ? \"inline\" : \"none\"}}>&#92;({labels[3]}&#92;)</label>\n\t\t\t\t\t\t\t<input className={inputClasses[this.state.cEdit]} type=\"text\" ref={(input) => { this.input = input; }} onKeyUp={this.inputHandler} placeholder={placeholders[this.state.cEdit]} onChange={()=>{}}/>\n\t\t\t\t\t\t\t<button className=\"next\" onClick={this.next} style={{display: (this.state.cEdit) ? \"inline\" : \"none\"}}><FontAwesomeIcon icon={faAngleRight} size=\"lg\"/></button>\n\t\t\t\t\t\t\t<button className=\"edit\" onClick={this.edit} style={{display: (this.state.cEdit) ? \"none\" : \"inline\"}}><FontAwesomeIcon icon={faPencilAlt}/></button>\n\t\t\t\t\t\t\t<input className=\"jscolor\" value=\"#3A539B\" onChange={()=>{}}/>\n\t\t\t\t\t\t</span>\n\t\t\t\t</span>);\n\t}\n}\nclass Settings extends React.Component {\n\tconstructor(props){\n\t\tsuper(props);\n\t\t\n\t\tthis.state = {};\n\t};\n\trender(){\n\t\treturn (<div id=\"settWrapper\">\n\t\t\t\t\t<nav id=\"centerControls\">\n\t\t\t\t\t\t<span className=\"title\">\n\t\t\t\t\t\t\t<h4>Settings</h4>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t\t<span className=\"buttons\">\n\t\t\t\t\t\t\t<button onClick={this.newCurve}> Reset </button>\n\t\t\t\t\t\t\t<button onClick={this.newPCurve}> Save </button>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</nav>\n\t\t\t\t\t<div id=\"fsettings\">\n\t\t\t\t\t\t<div className=\"row\">\n\t\t\t\t\t\t\t<div className=\"column\">\n\t\t\t\t\t\t\t\t<label>Curve thickness: </label>\n\t\t\t\t\t\t\t\t<span className=\"scontainer\"><span className=\"thickness\" id=\"thn\"></span></span>\n\t\t\t\t\t\t\t\t<span className=\"scontainer selected\"><span className=\"thickness\" id=\"md\"></span></span>\n\t\t\t\t\t\t\t\t<span className=\"scontainer\"><span className=\"thickness\" id=\"thk\"></span></span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"column\">\n\t\t\t\t\t\t\t\t<label>Divide into: </label>\n\t\t\t\t\t\t\t\t<input type=\"text\" id=\"divide\" placeholder=\"20\" maxLength=\"3\" /><button id=\"divideb\">Divide</button>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"row\">\n\t\t\t\t\t\t\t<div className=\"column\">\n\t\t\t\t\t\t\t\t<label>Dash size &amp; spacing: </label>\n\t\t\t\t\t\t\t\t<input id=\"dash\" placeholder=\"3\" /> &amp;\n\t\t\t\t\t\t\t\t<input id=\"spacing\" placeholder=\"2\" />\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"column\">\n\t\t\t\t\t\t\t\t<label>Duration: </label>\n\t\t\t\t\t\t\t\t<input type=\"text\" id=\"duration\" /> seconds\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"row\">\n\t\t\t\t\t\t\t<div className=\"column\">\n\t\t\t\t\t\t\t\t<label>Animation: </label>\n\t\t\t\t\t\t\t\t<div className=\"container\">\n\t\t\t\t\t\t\t\t\t<button className=\"anim\" id=\"noanim\">No animation</button>\n\t\t\t\t\t\t\t\t\t<button className=\"anim\" id=\"completeb\">Complete</button>\n\t\t\t\t\t\t\t\t\t<button className=\"anim\" id=\"chase\">Chase</button>\n\t\t\t\t\t\t\t\t\t<button className=\"anim\" id=\"morph\">Morph</button>\n\t\t\t\t\t\t\t\t\t<button className=\"anim\" id=\"rotate\">Rotate</button>\n\t\t\t\t\t\t\t\t\t<button className=\"anim\" id=\"recompose\">Recompose</button>\n\t\t\t\t\t\t\t\t\t<button className=\"anim\" id=\"mover\">Scroll right</button>\n\t\t\t\t\t\t\t\t\t<button className=\"anim\" id=\"movel\">Scroll left</button>\n\t\t\t\t\t\t\t\t\t<button className=\"anim\" id=\"moveu\">Scroll up</button>\n\t\t\t\t\t\t\t\t\t<button className=\"anim\" id=\"moved\">Scroll down</button>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"row\">\n\t\t\t\t\t\t\t<div className=\"column\">\n\t\t\t\t\t\t\t\t<button>Opaque</button>\t\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>);\n\t}\n}\n\nclass Canvas extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = { \n\t\t\tcolors: { \n\t\t\t\taxeColor: \"#e6e4e7\",\n\t\t\t\twireColor: \"#28262d\",\n\t\t\t\tdashColor: \"#e6e4e7\", \n\t\t\t\tcurveColor: \"#ebe9ec\"\n\t\t\t},\n\t\t\twidths: {\n\t\t\t\taxeWdith: [1, 1],\n\t\t\t\twireWidth: [1, 1],\n\t\t\t\tdashWidth: {\n\t\t\t\t\tx: [2, 2],\n\t\t\t\t\ty: [2, 2]\n\t\t\t\t}\n\t\t\t},\n\t\t\tdrawnSteps: {\n\t\t\t\tnbSteps: {\n\t\t\t\t\tx: [9, 9],\n\t\t\t\t\ty: [8, 8]\n\t\t\t\t},\n\t\t\t\toffStepSteps: {\n\t\t\t\t\tx: [1, 1],\n\t\t\t\t\ty: [1, 1]\n\t\t\t\t},\t\n\t\t\t\tstepSize: {\n\t\t\t\t\tx: [35, 35],//for positive then negative x\n\t\t\t\t\ty: [35, 35]//for positive then negative y\n\t\t\t\t}   \t\n\t\t\t},\n\t\t\tfont: {\n\t\t\t\tx: [\"11px Arial\", \"11px Arial\"],\n\t\t\t\ty: [\"11px Arial\", \"11px Arial\"]\n\t\t\t},\n\t\t\tsteps: {\n\t\t\t\tx: [.25, .25],\n\t\t\t\ty: [.25, .25]\n\t\t\t}};\n\t}\n\tplay = () => {\n\t\tlet A = this.state;\n\t\tconst canvas = this.refs.canvas;\n\t\tconst context = canvas.getContext(\"2d\");\n\t\tthis.setState((state, props) => {\n\t\t\tlet newState = state;\n\t\t\t//Temporary xstep, ystep\n\t\t\tlet tstep = Functions.Maximum([Functions.xstep([...curves[0], ...curves[1]], A.drawnSteps.nbSteps.x, A.drawnSteps.offStepSteps.x), Functions.ystep([...curves[0], ...curves[1]], A.drawnSteps.nbSteps.y, A.drawnSteps.offStepSteps.y)]);\n\t\t\tnewState.steps.x = [tstep, tstep]; \n\t\t\tnewState.steps.y = [tstep, tstep];\n\t\t\treturn newState;\n\t\t}, () => {\n\t\t\tlet frameDuration = Functions.Minimum(animations.map(el => 1000/(el.fps)));\n\t\t\tlet totalDuration = Functions.Maximum(animations.map(el => el.anchor + el.duration));\n\t\t\tlet k = 0;\n\t\t\tlet drawFramePointer = this.drawFrame;\n\t\t\tanimations.forEach(el => console.log(el.type));\n\t\t\tif(!!mainLoop) window.clearInterval(mainLoop);\n\t\t\tmainLoop = window.setInterval(function(){\n\t\t\t\t\t//console.log(\"k: \" + k);\n\t\t\t\t\tif(k < (totalDuration*1000)/frameDuration){\n\t\t\t\t\t\tk++;\n\t\t\t\t\t\tdrawFramePointer();\n\t\t\t\t\t\tanimations.forEach((el, ind) => {\n\t\t\t\t\t\t\tlet animation = el;\n\t\t\t\t\t\t\tanimation.fps = 1000/frameDuration;\n\t\t\t\t\t\t\tif(((k >= animation.anchor*animation.fps) && (k <= ((animation.anchor*animation.fps) + (animation.duration*animation.fps))))){\n\t\t\t\t\t\t\t\t//Feeding the execute function (k - animation.anchor*animation.fps) instead of k, as if the animation just started with its anchor \n\t\t\t\t\t\t\t\tanimation.execute([A.steps.x, A.steps.y], [A.drawnSteps.stepSize.x, A.drawnSteps.stepSize.y], [canvas.width, canvas.height], k - animation.anchor*animation.fps, context);\t\t\t\t\t\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\t\n\t\t\t\t\telse{\n\t\t\t\t\t\twindow.clearInterval(mainLoop);\n\t\t\t\t\t\tmainLoop = 0;\n\t\t\t\t\t}\n\t\t\t\t}, frameDuration);\n\t\t\t/*for(let i = 0; i < animations.length; i++){\n\t\t\t\tanimations[i].execute([A.steps.x, A.steps.y], [A.drawnSteps.stepSize.x, A.drawnSteps.stepSize.y], [canvas.width, canvas.height], context, this.drawFrame);\n\t\t\t}*/\n\t\t});\n\t}\n\tdrawFrame = () => {\n\t\tlet A = this.state;\n\t\tconst canvas = this.refs.canvas;\n\t\tconst context = canvas.getContext(\"2d\");\n\t\tcontext.clearRect(0, 0, canvas.width, canvas.height);\n\t\tFunctions.drawYAxis(canvas.width/2, A.colors.axeColor, canvas.height, A.widths.axeWidth, context);\n\t\tFunctions.drawXAxis(canvas.height/2, A.colors.axeColor, canvas.width, A.widths.axeWidth, context);\n\t\tFunctions.drawOnX(canvas.width/2, canvas.height/2, A.steps.x[0], A.drawnSteps.nbSteps.x[0], A.drawnSteps.stepSize.x[0], A.colors.dashColor, A.colors.wireColor, A.widths.dashWidth.x[0], A.widths.wireWidth[0], A.font.x[0], context);\n\t\tFunctions.drawOnY(canvas.width/2, canvas.height/2, A.steps.y[0], A.drawnSteps.nbSteps.y[0], A.drawnSteps.stepSize.y[0], A.colors.dashColor, A.colors.wireColor, A.widths.dashWidth.y[0], A.widths.wireWidth[0], A.font.y[0], context);\n\t\tFunctions.drawOnMinusX(canvas.width/2, canvas.height/2, A.steps.x[1], A.drawnSteps.nbSteps.x[0], A.drawnSteps.stepSize.x[1], A.colors.dashColor, A.colors.wireColor, A.widths.dashWidth.x[1], A.widths.wireWidth[0], A.font.x[1], context);\n\t\tFunctions.drawOnMinusY(canvas.width/2, canvas.height/2, A.steps.y[1], A.drawnSteps.nbSteps.y[1], A.drawnSteps.stepSize.y[1], A.colors.dashColor, A.colors.wireColor, A.widths.dashWidth.y[1], A.widths.wireWidth[0], A.font.y[1], context);\n\t}\n\tcomponentDidMount(){\n\t\tthis.setState({canvas: this.refs.canvasW}, () => {\n\t\t\tthis.setState(() => {\n\t\t\t\tlet tempSteps = this.state.drawnSteps;\n\t\t\t\tlet nbXSteps = parseInt((this.state.canvas.clientWidth/2)/tempSteps.stepSize.x[0]);\n\t\t\t\tlet nbYSteps = parseInt((this.state.canvas.clientHeight/2)/tempSteps.stepSize.y[0]);\n\t\t\t\ttempSteps.nbSteps.x = [nbXSteps, nbXSteps];\n\t\t\t\ttempSteps.nbSteps.y = [nbYSteps, nbYSteps];\n\t\t\t\treturn tempSteps;\n\t\t\t});\n\t\t});\n\t}\n\tcomponentDidUpdate(){\n\t\n\t}\n\trender(){\n\t\tif(!this.state.canvas){\n\t\t\treturn (<div id=\"canvasWrapper\">\n\t\t\t\t\t<LControls play={this.play}/>\n\t\t\t\t\t<div id=\"canvas\" ref=\"canvasW\"></div>\n\t\t\t\t</div>);\n\t\t}\n\t\telse{\n\t\t\treturn (<div id=\"canvasWrapper\">\n\t\t\t\t\t<LControls play={this.play}/>\n\t\t\t\t\t<div id=\"canvas\" ref=\"canvasW\">\n\t\t\t\t\t\t<canvas ref=\"canvas\" id=\"graph\" width={this.state.canvas.clientWidth} height={this.state.canvas.clientHeight}></canvas>\n\t\t\t\t\t\t<canvas id=\"toplayer\" width={this.state.canvas.clientWidth} height={this.state.canvas.clientHeight}></canvas>\n\t\t\t\t\t</div>\n\t\t\t\t</div>);\n\t\t}\n\t}\n}\n\nclass LControls extends React.Component {\n\tconstructor(props) {\n\t  super(props);\n\t\n\t  this.state = {};\n\t}\n\trender(){\n\t\treturn (<nav id=\"leftControls\">\n\t\t\t\t\t<span>\n\t\t\t\t\t\t<h4>Animation 1 </h4>\n\t\t\t\t\t</span>\n\t\t\t\t\t<nav>\t\n\t\t\t\t\t\t<button onClick={this.props.play}><FontAwesomeIcon icon={faPlay} /></button>\n\t\t\t\t\t\t<button><FontAwesomeIcon icon={faPause} /></button>\n\t\t\t\t\t\t<button><FontAwesomeIcon icon={faStop} /></button>\n\t\t\t\t\t</nav>\t\t\t\t\n\t\t\t\t\t<span>\n\t\t\t\t\t\t<h4>4 seconds </h4>\n\t\t\t\t\t</span>\n\t\t\t\t\t<nav>\n\t\t\t\t\t\t<button><FontAwesomeIcon icon={faSearchPlus} /></button>\n\t\t\t\t\t\t<button><FontAwesomeIcon icon={faSearchMinus} /></button>\n\t\t\t\t\t\t<button><FontAwesomeIcon icon={faArrowLeft} /></button>\n\t\t\t\t\t\t<button><FontAwesomeIcon icon={faArrowRight} /></button>\n\t\t\t\t\t\t<button><FontAwesomeIcon icon={faArrowUp} /></button>\n\t\t\t\t\t\t<button><FontAwesomeIcon icon={faArrowDown} /></button>\n\t\t\t\t\t</nav>\n\t\t\t\t\t<nav>\n\t\t\t\t\t\t<button><b>Save</b></button>\n\t\t\t\t\t\t<button><b>Export</b></button>\n\t\t\t\t\t</nav>\n\t\t\t\t</nav>);\n\t}\n}\t\n\nclass RControls extends React.Component {\n\tconstructor(props) {\n\t  super(props);\n\t\n\t  this.state = {};\n\t}\n\trender(){\n\t\treturn(<nav id=\"rightControls\">\n\t\t\t\t\t<span className=\"title\">\n\t\t\t\t\t\t<h4>Curves</h4>\n\t\t\t\t\t</span>\n\t\t\t\t\t<span className=\"buttons\">\n\t\t\t\t\t\t<button> Clear All </button>\n\t\t\t\t\t</span>\n\t\t\t\t</nav>);\n\t}\n}\n\nclass ParamWrapper extends React.Component {\n\tconstructor(props) {\n\t  super(props);\n\t\n\t  this.state = {curves: curves};\n\t}\n\tnewCurve = () => {\n\t\tcurves[0].push(new Curve2d([], [], \"#FFFFFF\", 3));\n\t\tanimations.push(new Animation(0, 0, 1, 10, [[0, curves[0].length - 1]]));\n\t\tthis.setState({curves: curves});\n\t};\n\tnewPCurve = () => {\n\t\tcurves[1].push(new Curve2d([], [], \"#FFFFFF\", 3));\n\t\tanimations.push(new Animation(0, 0, 1, 10, [[1, curves[1].length - 1]]));\n\t\tthis.setState({curves: curves});\n\t};\n\tdelete = (arg) => {\n\t\tcurves[arg[0]].splice(arg[1], 1);\n\t\tlet indice = [];\n\t\t//Deleting curve from relevant animation\n\t\tanimations.forEach((el, ind) => {\n\t\t\tel.curvInd = el.curvInd.filter((element, index) => {\n\t\t\t\tif(element[0] == arg[0] && element[1] == arg[1]){\n\t\t\t\t\tindice[0] = ind;\n\t\t\t\t\tindice[1] = index;\n\t\t\t\t};\n\t\t\t\treturn !(element[0] == arg[0] && element[1] == arg[1]);\n\t\t\t});\n\t\t});\n\t\t//Adjusting curve indices after deletion\n\t\tanimations.forEach((el, ind) => {\n\t\t\tif(ind == indice[0]){\n\t\t\t\tif(!!(el.curvInd[indice[1]])){\n\t\t\t\t\tel.curvInd.forEach((element, index) => element[1] -= (index >= indice[1] && element[0] == arg[0]) ? 1 : 0);\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(ind > indice[0]){\t\n\t\t\t\tel.curvInd.forEach((element, index) => element[1] -= (element[0] == arg[0]) ? 1 : 0);\n\t\t\t}\n\t\t});\n\t\t//Deleting empty animations that may be due to deletion\n\t\tanimations = animations.filter(el => el.curvInd.length > 0);\n\t\t//Ajdusting animations left with only one curve by setting their type to 0\n\t\tanimations.forEach(el => {if(el.curvInd.length == 1) el.type = 0}); \n\t\tthis.setState({curves: curves});\n\t};\n\trender(){\n\t\treturn (<div id=\"paramWrapper\">\n\t\t\t\t\t<RControls />\n\t\t\t\t\t<div id=\"parameters\">\n\t\t\t\t\t\t<div className=\"buttons\">\n\t\t\t\t\t\t\t<button id=\"addc\" onClick={this.newCurve}> <FontAwesomeIcon icon={faPlus} /> FCurve </button>\n\t\t\t\t\t\t\t<button id=\"addp\" onClick={this.newPCurve}> <FontAwesomeIcon icon={faPlus} /> PCurve </button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"inputs\">\n\t\t\t\t\t\t\t{animations.map((el, ind) => {\n\t\t\t\t\t\t\t\t\tif(el.curvInd.length == 1){\n\t\t\t\t\t\t\t\t\t\treturn <WrCurve key={[el.curvInd[0][0], el.curvInd[0][1]].toString()} type={el.curvInd[0][0]} cindex={el.curvInd[0][1]} delete={this.delete} />; \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\telse{\n\t\t\t\t\t\t\t\t\t\treturn <span className=\"inputWrapper\" key={ind}>\n\t\t\t\t\t\t\t\t\t\t\t\t{el.curvInd.map((element, index) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn <WrCurve key={[element[0], element[1]].toString()} type={element[0]} cindex={element[1]} delete={this.delete} />\n\t\t\t\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t\t\t\t</span>;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div><br/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div id=\"logo\">\n\t\t\t\t\t\t<img src=\"drawing.svg\" width=\"35%\"/>\n\t\t\t\t\t</div>\n\t\t\t\t</div>);\t\n\t}\n}\n\nclass App extends React.Component {\n\tconstructor(props){\n\t\tsuper(props);\t\n\t\tcurves[0].push(new Curve2d([], [], \"#FFFFFF\", 3));\n\t\tcurves[0].push(new Curve2d([], [], \"#FFFFFF\", 3));\n\t\tcurves[0].push(new Curve2d([], [], \"#FFFFFF\", 3));\n\t\tcurves[0].push(new Curve2d([], [], \"#FFFFFF\", 3));\n\t\tanimations.push(new Animation(1, 0, 1, 50, [[0, 0], [0, 1]]));\n\t\tanimations.push(new Animation(1, 1, 1, 50, [[0, 2], [0, 3]]));\n\t\tthis.state = {curves: curves};\n\t};\n\trender(){\n\t\treturn (<div id=\"main\">\n\t\t\t\t\t<div id=\"core\">\n\t\t\t\t\t\t<Canvas/>\n\t\t\t\t\t\t<Settings/>\n\t\t\t\t\t\t<ParamWrapper/>\n\t\t\t\t\t</div>\n\t\t\t\t</div>);\n\t}\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}