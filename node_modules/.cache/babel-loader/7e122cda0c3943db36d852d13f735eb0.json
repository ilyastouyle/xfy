{"ast":null,"code":"var _jsxFileName = \"/var/www/html/xfy/src/App.js\";\nimport React from 'react';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faTimes, faCog, faSave, faAngleUp, faAngleDown, faAngleLeft, faAngleRight, faPencilAlt, faSearchPlus, faSearchMinus, faArrowLeft, faArrowRight, faArrowUp, faArrowDown, faPlus, faPlay, faPause, faStop } from '@fortawesome/free-solid-svg-icons';\nimport Functions from './Library';\nimport Animations from './Animations';\nimport { SketchPicker } from 'react-color';\nimport './stylesheets/App.css'; //Number of subdivisions of X (and thus Y) and Number of subdivisions for delimiters  \n\nlet nbSubdiv = 500,\n    nbSubdivDelim = 50;\nlet curves = [[], []],\n    animations = [],\n    delimiters = []; //Global variables linked to canvas (for execution, pausing and stopping animation)\n\nlet frameDuration = 0,\n    totalDuration = 0,\n    k = 0,\n    mainLoop = 0,\n    paused = false; //Function for finding animation involving given curve indices\n\nfunction findInd(cInd) {\n  let indice = [];\n  animations.forEach((el, ind) => {\n    el.curvInd.forEach((element, index) => {\n      if (element[0] === cInd[0] && element[1] === cInd[1]) {\n        indice[0] = ind;\n        indice[1] = index;\n      }\n\n      ;\n    });\n  });\n  return indice;\n} //Function for computing and return delimiters, takes in :\n//delimiter width, index, place of delimiter between 0 & nbSubdiv, \n//and number of subdivisions of the delimiter curve (the line), dashes, color\n\n\nfunction createDelim(width, cInd, x, nbS, dashes, color) {\n  let expression = curves[cInd[0]][cInd[1]].expressions[0] != null ? Functions.evaluateInput(curves[cInd[0]][cInd[1]].expressions[0]) : 0;\n  let y = !isNaN(eval(expression)) ? eval(expression) : 0;\n  let delimiterX = Functions.subdivide(x, x, nbS);\n  let delimiterY = Functions.subdivide(0, y, nbS);\n  return {\n    x: x,\n    width: width,\n    delimiterX: delimiterX,\n    delimiterY: delimiterY,\n    color: color,\n    dashes: dashes\n  };\n}\n\nclass Curve2d {\n  constructor(X, Y, color, width, dashes, delimiters) {\n    this.X = X;\n    this.Y = Y;\n    this.color = \"#f3f1f3\";\n    this.width = width;\n    this.dashes = dashes;\n    this.expressions = [null, null, null, null];\n    this.delimiters = [];\n  }\n\n}\n\nclass Animation {\n  /* \n  \ttype: type of animation (Integer) \n  \tanchor: starting point in time (Float)\n  \tduration: duration of animation in seconds (Float)\n  \tfps: frames per second (Integer)\n  \tcurvInd: the curves involved in the animation ([[0 or 1, index],[...],...])\n  */\n  constructor(type, anchor, duration, fps, curvInd) {\n    this.type = type;\n    this.curvInd = curvInd;\n    this.animCurves = [];\n    this.anchor = anchor;\n    this.duration = duration;\n    this.fps = fps;\n  }\n\n  execute(steps, thestep, canvasDim, frameNumber, context, executeBefore = () => {}) {\n    for (let i = 0; i < this.curvInd.length; i++) {\n      this.animCurves.push(curves[this.curvInd[i][0]][this.curvInd[i][1]]);\n    }\n\n    switch (this.type) {\n      //no animation\n      case 0:\n        executeBefore();\n        let delim = this.animCurves[0].delimiters;\n        Functions.drawCurve(this.animCurves[0].width, this.animCurves[0].dashes, this.animCurves[0].X, this.animCurves[0].Y, steps, thestep, canvasDim[0] / 2, canvasDim[1] / 2, this.animCurves[0].color, context); //let delimitercreateDelim(2, this.curvInd[0], 0, 50, [1, 1], this.animCurves[0].color);\n        //Draw Delimiters\n\n        for (let i = 0; i < this.animCurves[0].delimiters.length; i++) {\n          Functions.drawCurve(delim[i].width, delim[i].dashes, delim[i].delimiterX, delim[i].delimiterY, steps, thestep, canvasDim[0] / 2, canvasDim[1] / 2, delim[i].color, context);\n        } //Functions.drawCurve(2, [1, 2], this.delimitersLX, this.delimitersLY, steps, thestep, canvasDim[0]/2, canvasDim[1]/2, this.animCurves[0].color, context);\n        //Functions.drawCurve(2, [1, 2], this.delimitersRX, this.delimitersRY, steps, thestep, canvasDim[0]/2, canvasDim[1]/2, this.animCurves[0].color, context);\n\n\n        break;\n      //morph curve1 into curve2 \n\n      case 1:\n        Animations.morph(this.animCurves, frameNumber, this.duration * this.fps, (tab1, tab2) => {\n          executeBefore();\n          Functions.drawCurve(this.animCurves[0].width, this.animCurves[0].dashes, tab1, tab2, steps, thestep, canvasDim[0] / 2, canvasDim[1] / 2, this.animCurves[0], context);\n        });\n        break;\n    }\n  }\n\n}\n\n;\n\nclass ColorPicker extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      displayColorPicker: false,\n      color: this.props.color\n    };\n\n    this.handleClick = () => {\n      this.setState({\n        displayColorPicker: !this.state.displayColorPicker\n      });\n    };\n\n    this.handleClose = () => {\n      this.setState({\n        displayColorPicker: false\n      });\n    };\n\n    this.handleChange = color => {\n      let colorRgb = color.rgb;\n      this.setState({\n        color: color.hex\n      }, () => this.props.update(color.hex));\n    };\n  }\n\n  render() {\n    const styles = {\n      view: {\n        backgroundColor: this.state.color\n      },\n      popover: {\n        position: \"absolute\",\n        zIndex: \"2\",\n        marginTop: \"1.5%\",\n        borderRadius: \"10px\"\n      }\n    };\n    return React.createElement(\"span\", {\n      className: \"colorWrapper\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      style: styles.wrapper,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      style: styles.view,\n      onClick: this.handleClick,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      style: styles.button,\n      onClick: this.handleClick,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135\n      },\n      __self: this\n    }, React.createElement(FontAwesomeIcon, {\n      style: styles.icon,\n      icon: this.state.displayColorPicker ? faAngleUp : faAngleDown,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135\n      },\n      __self: this\n    }))), this.state.displayColorPicker ? React.createElement(\"div\", {\n      style: styles.popover,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137\n      },\n      __self: this\n    }, React.createElement(SketchPicker, {\n      color: this.state.color,\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138\n      },\n      __self: this\n    })) : null);\n  }\n\n}\n\nclass Delimiter extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.handleDashInput = e => {\n      if (e.target.value == \"\") {\n        this.setState({\n          dashes: [\"a\", this.state.dashes[1]]\n        });\n      } else {\n        if (!isNaN(e.target.value)) {\n          this.setState({\n            dashes: [parseInt(e.target.value), this.state.dashes[1]]\n          });\n        }\n      }\n    };\n\n    this.handleSpacingInput = e => {\n      if (e.target.value == \"\") {\n        this.setState({\n          dashes: [this.state.dashes[0], \"a\"]\n        });\n      } else {\n        if (!isNaN(e.target.value)) {\n          this.setState({\n            dashes: [this.state.dashes[0], parseInt(e.target.value)]\n          });\n        }\n      }\n    };\n\n    this.handleXChange = e => {\n      //RegExp(\"^[-+]?[0-9]*\\.?[0-9]+$\").test(e.target.value)\n      console.log(e.target.value.length > 1);\n      this.setState({\n        x: e.target.value\n      });\n    };\n\n    this.handleWChange = e => {\n      if (e.target.value == \"\") {\n        this.setState({\n          width: \"a\"\n        });\n      } else {\n        if (!isNaN(e.target.value)) {\n          this.setState({\n            width: parseInt(e.target.value)\n          });\n        }\n      }\n    };\n\n    this.thickerW = () => {\n      this.setState({\n        width: this.state.width + 1\n      });\n    };\n\n    this.thinnerW = () => {\n      if (this.state.width > 1) {\n        this.setState({\n          width: this.state.width - 1\n        });\n      }\n    };\n\n    this.handleColorChange = color => {\n      this.setState({\n        color: color\n      });\n    };\n\n    this.delete = () => {\n      this.props.delete(this.props.ind);\n    };\n\n    this.componentDidUpdate = () => {\n      this.props.update(this.props.ind, this.state);\n    };\n\n    this.state = {\n      x: this.props.x,\n      width: this.props.width,\n      dashes: this.props.dashes,\n      color: this.props.color\n    };\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"delimWrapper\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 208\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"inpWrapper xPosition\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 209\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      className: \"xPosition\",\n      value: this.state.x == \"a\" ? \"\" : this.state.x,\n      onChange: this.handleXChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 210\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"inpWrapper thickness\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 212\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      className: \"width\",\n      value: this.state.width == \"a\" ? \"\" : this.state.width,\n      onChange: this.handleWChange,\n      maxLength: \"3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 213\n      },\n      __self: this\n    })), React.createElement(\"button\", {\n      className: \"thicker\",\n      onClick: this.thickerW,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 215\n      },\n      __self: this\n    }, React.createElement(\"b\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 215\n      },\n      __self: this\n    }, \"+\")), React.createElement(\"button\", {\n      className: \"thinner\",\n      onClick: this.thinnerW,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 216\n      },\n      __self: this\n    }, React.createElement(\"b\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 216\n      },\n      __self: this\n    }, \"-\")), React.createElement(\"div\", {\n      className: \"inpWrapper dashes\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 217\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      className: \"dash\",\n      placeholder: \"1\",\n      value: this.state.dashes[0] == \"a\" ? \"\" : this.state.dashes[0],\n      onChange: this.handleDashInput,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 218\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"inpWrapper spacing\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 220\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      className: \"spacing\",\n      placeholder: \"0\",\n      value: this.state.dashes[1] == \"a\" ? \"\" : this.state.dashes[1],\n      onChange: this.handleSpacingInput,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 221\n      },\n      __self: this\n    })), React.createElement(ColorPicker, {\n      update: this.handleColorChange,\n      color: this.state.color,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 223\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      className: \"delete\",\n      onClick: this.delete,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 224\n      },\n      __self: this\n    }, React.createElement(FontAwesomeIcon, {\n      icon: faTimes,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 224\n      },\n      __self: this\n    })));\n  }\n\n} //Wrapper Curve: Template for Functional and Parameterized Curves\n\n\nclass WrCurve extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.previous = () => {\n      this.setState({\n        cEdit: (this.state.cEdit - 1) % 5\n      });\n      this.input.value = \"\";\n    };\n\n    this.next = () => {\n      this.setState({\n        modified: this.state.modified.map((el, ind) => {\n          return ind == this.state.cEdit - 1 ? true : el;\n        })\n      });\n\n      try {\n        let expressions = curves[this.props.type][this.props.cindex].expressions;\n        let x = null;\n        let t = null;\n\n        if (this.props.type == 0) {\n          x = 0;\n        } else {\n          t = 0;\n        }\n\n        let test = parseFloat(eval(Functions.evaluateInput(this.input.value)));\n\n        if (!isNaN(test)) {\n          this.setState({\n            cEdit: (this.state.cEdit + 1) % 5\n          }, () => {\n            if (this.props.type === 0) {\n              if (!!expressions[1] && !!expressions[2]) {\n                curves[this.props.type][this.props.cindex].X = Functions.subdivide(parseFloat(expressions[1]), parseFloat(expressions[2]), nbSubdiv);\n\n                for (let i = 0; i < curves[this.props.type][this.props.cindex].X.length; i++) {\n                  let x = curves[this.props.type][this.props.cindex].X[i];\n                  curves[this.props.type][this.props.cindex].Y[i] = eval(Functions.evaluateInput(expressions[0]));\n                }\n              }\n            } else {\n              if (!!expressions[1] && !!expressions[2] && !!expressions[3]) {\n                //Subdivided t parameter values tab\n                let tab1 = Functions.subdivide(parseFloat(expressions[2]), parseFloat(expressions[3]), nbSubdiv);\n\n                for (let i = 0; i < tab1.length; i++) {\n                  let t = tab1[i];\n                  curves[this.props.type][this.props.cindex].X[i] = eval(Functions.evaluateInput(expressions[0]));\n                  curves[this.props.type][this.props.cindex].Y[i] = eval(Functions.evaluateInput(expressions[1]));\n                }\n              }\n            }\n          });\n          this.input.value = \"\";\n          this.setState({\n            error: false\n          });\n        } else {\n          this.setState({\n            error: true\n          });\n        }\n      } catch (error) {\n        this.setState({\n          error: true\n        });\n      }\n    };\n\n    this.edit = () => {\n      this.setState({\n        cEdit: 1\n      });\n    };\n\n    this.save = () => {\n      this.setState({\n        modified: this.state.modified.map((el, ind) => {\n          return ind == this.state.cEdit - 1 ? true : el;\n        })\n      });\n\n      try {\n        let expressions = curves[this.props.type][this.props.cindex].expressions;\n        let x = null;\n        let t = null;\n\n        if (this.props.type == 0) {\n          x = 0;\n        } else {\n          t = 0;\n        }\n\n        let test = parseFloat(eval(Functions.evaluateInput(this.input.value)));\n\n        if (!isNaN(test)) {\n          if (this.props.type === 0) {\n            if (!!expressions[1] && !!expressions[2]) {\n              curves[this.props.type][this.props.cindex].X = Functions.subdivide(parseFloat(expressions[1]), parseFloat(expressions[2]), nbSubdiv);\n\n              for (let i = 0; i < curves[this.props.type][this.props.cindex].X.length; i++) {\n                let x = curves[this.props.type][this.props.cindex].X[i];\n                curves[this.props.type][this.props.cindex].Y[i] = eval(Functions.evaluateInput(expressions[0]));\n              }\n            }\n          } else {\n            if (!!expressions[1] && !!expressions[2] && !!expressions[3]) {\n              //Subdivided t parameter values tab\n              let tab1 = Functions.subdivide(parseFloat(expressions[2]), parseFloat(expressions[3]), nbSubdiv);\n\n              for (let i = 0; i < tab1.length; i++) {\n                let t = tab1[i];\n                curves[this.props.type][this.props.cindex].X[i] = eval(Functions.evaluateInput(expressions[0]));\n                curves[this.props.type][this.props.cindex].Y[i] = eval(Functions.evaluateInput(expressions[1]));\n              }\n            }\n          }\n\n          this.input.value = \"\";\n          this.setState({\n            cEdit: 0,\n            error: false\n          });\n        } else {\n          this.setState({\n            error: true\n          });\n        }\n      } catch (error) {\n        this.setState({\n          error: true\n        });\n      }\n    };\n\n    this.handleInputChange = event => {\n      curves[this.props.type][this.props.cindex].expressions[this.state.cEdit - 1] = event.target.value;\n      let x = null;\n      let t = null;\n\n      if (this.props.type == 0) {\n        x = 0;\n      } else {\n        t = 0;\n      }\n\n      let test;\n\n      try {\n        test = parseFloat(eval(Functions.evaluateInput(event.target.value)));\n      } catch (error) {}\n\n      if (isNaN(test) && event.target.value != \"\" && this.state.modified[this.state.cEdit - 1]) {\n        this.setState({\n          error: true\n        });\n      } else {\n        this.setState({\n          error: false\n        });\n      }\n    };\n\n    this.inputHandler = e => {\n      if (e.which === 13) this.next();\n    };\n\n    this.state = {\n      cEdit: 0,\n      modified: [false, false, false, false],\n      error: false\n    }; //animations.push(new Animation(0, 1, 1, [[this.props.type, this.props.cindex]]));\n  }\n\n  componentDidMount() {\n    window.MathJax.Hub.Queue([\"Typeset\", window.MathJax.Hub, \"parameters\"]);\n  }\n\n  componentDidUpdate() {\n    this.input.focus();\n    this.input.value = curves[this.props.type][this.props.cindex].expressions[this.state.cEdit - 1];\n  }\n\n  render() {\n    let inputClasses = [],\n        placeholders = [],\n        labels = [];\n    let selected = this.props.currentSett[0] == this.props.type && this.props.currentSett[1] == this.props.cindex;\n\n    if (this.props.type === 0) {\n      inputClasses = [\"f\", \"selected f\", \"selected value\", \"selected value\", \"selected value\"];\n      placeholders = [\"cos(sin(x))\", \"cos(sin(x))\", \"-1\", \"1\", \"100\"];\n      labels = [\"f_{ \" + (this.props.cindex + 1) + \" }(x)\", \"a\", \"b\", \"n\"];\n    } else {\n      inputClasses = [\"x\", \"selected x\", \"selected y\", \"selected value\", \"selected value\"];\n      placeholders = [\"cos(t)\", \"cos(t)\", \"sin(t)\", \"-4\", \"4\"];\n      labels = [\"x_{ \" + (this.props.cindex + 1) + \" }(t)\", \"y_{ \" + (this.props.cindex + 1) + \" }(t)\", \"a\", \"b\"];\n    }\n\n    return React.createElement(\"span\", {\n      className: \"input\",\n      style: {\n        opacity: selected ? 0.4 : 1,\n        pointerEvents: selected ? \"none\" : \"auto\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 383\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 384\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      className: \"openS\",\n      onClick: () => {\n        if (!this.props.settStatus) this.props.showSett([this.props.type, this.props.cindex]);\n      },\n      style: {\n        display: this.state.cEdit ? \"none\" : \"inline\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 385\n      },\n      __self: this\n    }, React.createElement(FontAwesomeIcon, {\n      icon: faCog,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 385\n      },\n      __self: this\n    })), React.createElement(\"button\", {\n      className: \"save\",\n      onClick: this.save,\n      style: {\n        display: this.state.cEdit ? \"inline\" : \"none\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 386\n      },\n      __self: this\n    }, React.createElement(FontAwesomeIcon, {\n      icon: faSave,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 386\n      },\n      __self: this\n    })), React.createElement(\"button\", {\n      className: \"previous\",\n      onClick: this.previous,\n      style: {\n        display: this.state.cEdit > 1 ? \"inline\" : \"none\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 387\n      },\n      __self: this\n    }, React.createElement(FontAwesomeIcon, {\n      icon: faAngleLeft,\n      size: \"lg\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 387\n      },\n      __self: this\n    })), React.createElement(\"label\", {\n      style: {\n        display: this.state.cEdit < 2 ? \"inline\" : \"none\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 388\n      },\n      __self: this\n    }, \"\\\\(\", labels[0], \"\\\\)\"), React.createElement(\"label\", {\n      style: {\n        display: this.state.cEdit === 2 ? \"inline\" : \"none\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 389\n      },\n      __self: this\n    }, \"\\\\(\", labels[1], \"\\\\)\"), React.createElement(\"label\", {\n      style: {\n        display: this.state.cEdit === 3 ? \"inline\" : \"none\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 390\n      },\n      __self: this\n    }, \"\\\\(\", labels[2], \"\\\\)\"), React.createElement(\"label\", {\n      style: {\n        display: this.state.cEdit === 4 ? \"inline\" : \"none\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 391\n      },\n      __self: this\n    }, \"\\\\(\", labels[3], \"\\\\)\"), React.createElement(\"input\", {\n      className: inputClasses[this.state.cEdit] + \" \" + (this.state.error ? \"error\" : \"\"),\n      type: \"text\",\n      ref: input => {\n        this.input = input;\n      },\n      onKeyUp: this.inputHandler,\n      placeholder: placeholders[this.state.cEdit],\n      onChange: this.handleInputChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 392\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      className: \"next\",\n      onClick: this.next,\n      style: {\n        display: this.state.cEdit ? \"inline\" : \"none\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 393\n      },\n      __self: this\n    }, React.createElement(FontAwesomeIcon, {\n      icon: faAngleRight,\n      size: \"lg\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 393\n      },\n      __self: this\n    })), React.createElement(\"button\", {\n      className: \"edit\",\n      onClick: this.edit,\n      style: {\n        display: this.state.cEdit ? \"none\" : \"inline\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 394\n      },\n      __self: this\n    }, React.createElement(FontAwesomeIcon, {\n      icon: faPencilAlt,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 394\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"delete\",\n      style: {\n        display: this.state.cEdit || this.props.settStatus ? \"none\" : \"inline\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 396\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      className: \"delete\",\n      onClick: () => {\n        this.props.delete([this.props.type, this.props.cindex]);\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 397\n      },\n      __self: this\n    }, React.createElement(FontAwesomeIcon, {\n      icon: faTimes,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 397\n      },\n      __self: this\n    }))));\n  }\n\n}\n\nclass Settings extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.save = () => {\n      let ind = this.state.ind;\n      delimiters = delimiters.map(el => createDelim(el.width, this.state.ind, el.x, nbSubdivDelim, el.dashes, el.color));\n      curves[ind[0]][ind[1]].width = this.state.thickness;\n      curves[ind[0]][ind[1]].color = this.state.color;\n      curves[ind[0]][ind[1]].dashes = this.state.dashes;\n      curves[ind[0]][ind[1]].delimiters = delimiters;\n      animations[findInd(ind)[0]].anchor = this.state.anchor;\n      animations[findInd(ind)[0]].duration = this.state.duration;\n      this.props.hide();\n    };\n\n    this.addDelimiter = () => {\n      delimiters.push({\n        x: 0,\n        width: 2,\n        dashes: [1, 2],\n        color: \"#FFFFFF\"\n      });\n      this.setState({\n        delimiters: delimiters\n      });\n    };\n\n    this.updateDelim = (index, data) => {\n      delimiters[index] = data;\n    };\n\n    this.deleteDelim = ind => {\n      delimiters.splice(ind, 1);\n      this.setState({\n        delimiters: delimiters\n      });\n    };\n\n    let _ind = this.props.currentSett;\n    delimiters = curves[_ind[0]][_ind[1]].delimiters;\n    this.state = {\n      ind: _ind,\n      thickness: curves[_ind[0]][_ind[1]].width,\n      dashes: curves[_ind[0]][_ind[1]].dashes,\n      delimiters: delimiters,\n      color: curves[_ind[0]][_ind[1]].color,\n      anchor: animations[findInd(_ind)[0]].anchor,\n      duration: animations[findInd(_ind)[0]].duration,\n      animType: animations[findInd(_ind)[0]].type\n    };\n  }\n\n  componentDidMount() {\n    window.MathJax.Hub.Queue([\"Typeset\", window.MathJax.Hub, \"settWrapper\"]);\n  }\n\n  //<SketchPicker color={(!!this.state.color.hex) ? this.state.color.hex : this.state.color} onChangeComplete={(color) => this.setState({color: color})}/>\n  //<ColorPicker color={this.state.curveColor} update={(color) => this.setState({curveColor: color})} />\n  render() {\n    let ind = this.state.ind;\n    return React.createElement(\"div\", {\n      id: \"settWrapper\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 447\n      },\n      __self: this\n    }, React.createElement(\"nav\", {\n      id: \"centerControls\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 448\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: \"title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 449\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 450\n      },\n      __self: this\n    }, \"Settings\")), React.createElement(\"span\", {\n      className: \"buttons\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 452\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      onClick: this.reset,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 453\n      },\n      __self: this\n    }, \" Reset \"), React.createElement(\"button\", {\n      onClick: this.save,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 454\n      },\n      __self: this\n    }, \" Save \"))), React.createElement(\"div\", {\n      id: \"fsettings\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 457\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 458\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"subrow curve\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 459\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 460\n      },\n      __self: this\n    }, \"Curve characteristics\"), React.createElement(\"div\", {\n      className: \"wrapper\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 461\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"subwrapper\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 462\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 463\n      },\n      __self: this\n    }, \"Thickness\"), React.createElement(\"input\", {\n      type: \"text\",\n      className: \"thickness\",\n      value: this.state.thickness,\n      onChange: e => {\n        if (!isNaN(e.target.value) && e.target.value != \"\") this.setState({\n          thickness: parseInt(e.target.value)\n        });\n      },\n      maxLength: \"3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 464\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      className: \"thicker\",\n      onClick: () => this.setState({\n        thickness: this.state.thickness + 1\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 465\n      },\n      __self: this\n    }, React.createElement(\"b\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 465\n      },\n      __self: this\n    }, \"+\")), React.createElement(\"button\", {\n      className: \"thinner\",\n      onClick: () => {\n        if (this.state.thickness > 1) this.setState({\n          thickness: this.state.thickness - 1\n        });\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 466\n      },\n      __self: this\n    }, React.createElement(\"b\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 466\n      },\n      __self: this\n    }, \"-\"))), React.createElement(\"div\", {\n      className: \"subwrapper\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 468\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 469\n      },\n      __self: this\n    }, \"Dash:Spacing\"), React.createElement(\"input\", {\n      className: \"dash\",\n      placeholder: \"1\",\n      value: this.state.dashes[0] == -1 ? \"\" : this.state.dashes[0],\n      onChange: e => {\n        if (e.target.value == \"\") {\n          this.setState({\n            dashes: [-1, this.state.dashes[1]]\n          });\n        } else {\n          if (!isNaN(e.target.value)) {\n            this.setState({\n              dashes: [parseInt(e.target.value), this.state.dashes[1]]\n            });\n          }\n        }\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 470\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      className: \"spacing\",\n      placeholder: \"0\",\n      value: this.state.dashes[1] == -1 ? \"\" : this.state.dashes[1],\n      onChange: e => {\n        if (e.target.value == \"\") {\n          this.setState({\n            dashes: [this.state.dashes[0], -1]\n          });\n        } else {\n          if (!isNaN(e.target.value)) {\n            this.setState({\n              dashes: [this.state.dashes[0], parseInt(e.target.value)]\n            });\n          }\n        }\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 480\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"subwrapper\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 491\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 492\n      },\n      __self: this\n    }, \"Color\"), React.createElement(ColorPicker, {\n      update: color => this.setState({\n        color: color\n      }),\n      color: this.state.color,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 493\n      },\n      __self: this\n    })))), React.createElement(\"div\", {\n      className: \"subrow\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 497\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"wrapper\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 498\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"subwrapper\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 499\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 500\n      },\n      __self: this\n    }, \"Divide into: \"), React.createElement(\"input\", {\n      type: \"text\",\n      id: \"divide\",\n      placeholder: \"20\",\n      maxLength: \"3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 501\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      id: \"divideb\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 501\n      },\n      __self: this\n    }, \"Divide\")), React.createElement(\"div\", {\n      className: \"subwrapper\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 503\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 504\n      },\n      __self: this\n    }, \"Opacity\"), React.createElement(\"input\", {\n      type: \"text\",\n      id: \"opacity\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 505\n      },\n      __self: this\n    }))))), React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 510\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"subrow\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 511\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"wrapper\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 512\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"subwrapper\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 513\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 514\n      },\n      __self: this\n    }, \"Starting time: \"), React.createElement(\"input\", {\n      type: \"text\",\n      id: \"anchor\",\n      value: this.state.anchor,\n      onChange: e => this.setState({\n        anchor: parseInt(e.target.value)\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 515\n      },\n      __self: this\n    }), \" seconds\"), React.createElement(\"div\", {\n      className: \"subwrapper\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 517\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 518\n      },\n      __self: this\n    }, \"Duration: \"), React.createElement(\"input\", {\n      type: \"text\",\n      id: \"duration\",\n      value: this.state.duration,\n      onChange: e => this.setState({\n        duration: parseInt(e.target.value)\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 519\n      },\n      __self: this\n    }), \" seconds\"))), React.createElement(\"div\", {\n      className: \"subrow\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 523\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"wrapper\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 524\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"subwrapper\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 525\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      className: this.state.animType == 0 ? \"anim selected\" : \"anim\",\n      id: \"noanim\",\n      onClick: () => this.setState({\n        animType: 0\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 526\n      },\n      __self: this\n    }, \"No animation\"), React.createElement(\"button\", {\n      className: this.state.animType == 1 ? \"anim selected\" : \"anim\",\n      id: \"morph\",\n      onClick: () => this.setState({\n        animType: 1\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 527\n      },\n      __self: this\n    }, \"Morph\"), React.createElement(\"button\", {\n      className: this.state.animType == 2 ? \"anim selected\" : \"anim\",\n      id: \"completeb\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 528\n      },\n      __self: this\n    }, \"Complete\"), React.createElement(\"button\", {\n      className: this.state.animType == 3 ? \"anim selected\" : \"anim\",\n      id: \"chase\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 529\n      },\n      __self: this\n    }, \"Chase\"), React.createElement(\"button\", {\n      className: this.state.animType == 4 ? \"anim selected\" : \"anim\",\n      id: \"rotate\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 530\n      },\n      __self: this\n    }, \"Rotate\"), React.createElement(\"button\", {\n      className: this.state.animType == 5 ? \"anim selected\" : \"anim\",\n      id: \"recompose\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 531\n      },\n      __self: this\n    }, \"Recompose\"), React.createElement(\"button\", {\n      className: this.state.animType == 6 ? \"anim selected\" : \"anim\",\n      id: \"mover\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 532\n      },\n      __self: this\n    }, \"Scroll right\"), React.createElement(\"button\", {\n      className: this.state.animType == 7 ? \"anim selected\" : \"anim\",\n      id: \"movel\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 533\n      },\n      __self: this\n    }, \"Scroll left\"), React.createElement(\"button\", {\n      className: this.state.animType == 8 ? \"anim selected\" : \"anim\",\n      id: \"moveu\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 534\n      },\n      __self: this\n    }, \"Scroll up\"), React.createElement(\"button\", {\n      className: this.state.animType == 9 ? \"anim selected\" : \"anim\",\n      id: \"moved\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 535\n      },\n      __self: this\n    }, \"Scroll down\"))))), React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 540\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"subrow\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 541\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"wrapper\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 542\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"subwrapper delimLabel\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 543\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 544\n      },\n      __self: this\n    }, \"Delimiters\")), React.createElement(\"div\", {\n      className: \"subwrapper\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 546\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      onClick: this.addDelimiter,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 547\n      },\n      __self: this\n    }, \"Add delimiter\"), React.createElement(\"button\", {\n      onClick: this.clearDelimiters,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 548\n      },\n      __self: this\n    }, \"Clear all\"))), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 550\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"wrapper\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 551\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"subwrapper delimTable\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 552\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"labels\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 553\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"delimColumn xPosition\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 554\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 555\n      },\n      __self: this\n    }, \"x\")), React.createElement(\"div\", {\n      className: \"delimColumn thickness\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 557\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 558\n      },\n      __self: this\n    }, \"width\")), React.createElement(\"div\", {\n      className: \"delimColumn dashes\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 560\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 561\n      },\n      __self: this\n    }, \"dash:space\")), React.createElement(\"div\", {\n      className: \"delimColumn color\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 563\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 564\n      },\n      __self: this\n    }, \"color\")), React.createElement(\"div\", {\n      className: \"delimColumn filler\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 566\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 568\n      },\n      __self: this\n    }, this.state.delimiters.map((el, index) => {\n      return React.createElement(Delimiter, {\n        x: el.x,\n        width: el.width,\n        dashes: [el.dashes[0], el.dashes[1]],\n        color: el.color,\n        key: el.x.toString() + index.toString(),\n        ind: index,\n        delete: this.deleteDelim,\n        update: this.updateDelim,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 571\n        },\n        __self: this\n      });\n    }))))))));\n  }\n\n}\n\nclass Canvas extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.play = () => {\n      //Don't delete, pointer is to be used inside setInterval\n      let pointer = this;\n      let A = this.state;\n      const canvas = this.refs.canvas;\n      const context = canvas.getContext(\"2d\");\n      this.setState((state, props) => {\n        let newState = state; //Temporary xstep, ystep\n\n        let tstep = Functions.Maximum([Functions.xstep([...curves[0], ...curves[1]], A.drawnSteps.nbSteps.x, A.drawnSteps.offStepSteps.x), Functions.ystep([...curves[0], ...curves[1]], A.drawnSteps.nbSteps.y, A.drawnSteps.offStepSteps.y)]);\n        newState.steps.x = [tstep, tstep];\n        newState.steps.y = [tstep, tstep];\n        return newState;\n      }, () => {\n        //frameDuration in milliseconds\n        frameDuration = Functions.Minimum(animations.map(el => 1000 / el.fps)); //totalDuration in seconds\n\n        totalDuration = Functions.Maximum(animations.map(el => el.anchor + el.duration));\n        let drawFramePointer = this.drawFrame; //If animation already running\n\n        if (!!mainLoop) {\n          window.clearInterval(mainLoop); //If not paused start from the beginning\n\n          if (!paused) {\n            k = 0;\n          }\n        } //Either way set paused to false since it's playing now\n\n\n        paused = false;\n        mainLoop = window.setInterval(function () {\n          //console.log(\"k: \" + k);\n          if (k < totalDuration * 1000 / frameDuration) {\n            k++;\n            drawFramePointer();\n            animations.forEach((el, ind) => {\n              let animation = el;\n              animation.fps = 1000 / frameDuration;\n\n              if (k >= animation.anchor * animation.fps && k <= animation.anchor * animation.fps + animation.duration * animation.fps) {\n                //Feeding the execute function (k - animation.anchor*animation.fps) instead of k, as if the animation just started with its anchor \n                animation.execute([A.steps.x, A.steps.y], [A.drawnSteps.stepSize.x, A.drawnSteps.stepSize.y], [canvas.width, canvas.height], k - animation.anchor * animation.fps, context);\n              }\n            });\n            pointer.setState({\n              count: k\n            });\n          } else {\n            window.clearInterval(mainLoop);\n            mainLoop = 0;\n            k = 0;\n          }\n        }, frameDuration);\n        /*for(let i = 0; i < animations.length; i++){\n        \tanimations[i].execute([A.steps.x, A.steps.y], [A.drawnSteps.stepSize.x, A.drawnSteps.stepSize.y], [canvas.width, canvas.height], context, this.drawFrame);\n        }*/\n      });\n    };\n\n    this.pause = () => {\n      window.clearInterval(mainLoop);\n      paused = true;\n      this.setState({\n        count: k\n      });\n    };\n\n    this.stop = () => {\n      window.clearInterval(mainLoop);\n      mainLoop = 0;\n      k = 0;\n      this.setState({\n        count: k\n      }, this.drawFrame);\n    };\n\n    this.drawFrame = () => {\n      let A = this.state;\n      const canvas = this.refs.canvas;\n      const context = canvas.getContext(\"2d\");\n      context.clearRect(0, 0, canvas.width, canvas.height);\n      Functions.drawYAxis(canvas.width / 2, A.colors.axeColor, canvas.height, A.widths.axeWidth, context);\n      Functions.drawXAxis(canvas.height / 2, A.colors.axeColor, canvas.width, A.widths.axeWidth, context);\n      Functions.drawOnX(canvas.width / 2, canvas.height / 2, A.steps.x[0], A.drawnSteps.nbSteps.x[0], A.drawnSteps.stepSize.x[0], A.colors.dashColor, A.colors.wireColor, A.widths.dashWidth.x[0], A.widths.wireWidth[0], A.font.x[0], context);\n      Functions.drawOnY(canvas.width / 2, canvas.height / 2, A.steps.y[0], A.drawnSteps.nbSteps.y[0], A.drawnSteps.stepSize.y[0], A.colors.dashColor, A.colors.wireColor, A.widths.dashWidth.y[0], A.widths.wireWidth[0], A.font.y[0], context);\n      Functions.drawOnMinusX(canvas.width / 2, canvas.height / 2, A.steps.x[1], A.drawnSteps.nbSteps.x[0], A.drawnSteps.stepSize.x[1], A.colors.dashColor, A.colors.wireColor, A.widths.dashWidth.x[1], A.widths.wireWidth[0], A.font.x[1], context);\n      Functions.drawOnMinusY(canvas.width / 2, canvas.height / 2, A.steps.y[1], A.drawnSteps.nbSteps.y[1], A.drawnSteps.stepSize.y[1], A.colors.dashColor, A.colors.wireColor, A.widths.dashWidth.y[1], A.widths.wireWidth[0], A.font.y[1], context);\n    };\n\n    this.state = {\n      colors: {\n        axeColor: \"#e6e4e7\",\n        wireColor: \"#28262d\",\n        dashColor: \"#e6e4e7\",\n        curveColor: \"#ebe9ec\"\n      },\n      widths: {\n        axeWdith: [1, 1],\n        wireWidth: [1, 1],\n        dashWidth: {\n          x: [2, 2],\n          y: [2, 2]\n        }\n      },\n      drawnSteps: {\n        nbSteps: {\n          x: [9, 9],\n          y: [8, 8]\n        },\n        offStepSteps: {\n          x: [1, 1],\n          y: [1, 1]\n        },\n        stepSize: {\n          x: [35, 35],\n          //for positive then negative x\n          y: [35, 35] //for positive then negative y\n\n        }\n      },\n      font: {\n        x: [\"11px Arial\", \"11px Arial\"],\n        y: [\"11px Arial\", \"11px Arial\"]\n      },\n      steps: {\n        x: [.25, .25],\n        y: [.25, .25]\n      },\n      //Variable for updating time display\n      count: 0\n    };\n  }\n\n  componentDidMount() {\n    this.setState({\n      canvas: this.refs.canvasW\n    }, () => {\n      this.setState(() => {\n        let tempSteps = this.state.drawnSteps;\n        let nbXSteps = parseInt(this.state.canvas.clientWidth / 2 / tempSteps.stepSize.x[0]);\n        let nbYSteps = parseInt(this.state.canvas.clientHeight / 2 / tempSteps.stepSize.y[0]);\n        tempSteps.nbSteps.x = [nbXSteps, nbXSteps];\n        tempSteps.nbSteps.y = [nbYSteps, nbYSteps];\n        return tempSteps;\n      });\n    });\n  }\n\n  componentDidUpdatedate() {}\n\n  render() {\n    if (!this.state.canvas) {\n      return React.createElement(\"div\", {\n        id: \"canvasWrapper\",\n        style: {\n          width: !this.props.settStatus ? \"80%\" : \"50%\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 723\n        },\n        __self: this\n      }, React.createElement(LControls, {\n        play: this.play,\n        pause: this.pause,\n        stop: this.stop,\n        count: this.state.count * frameDuration / 1000,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 724\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        id: \"canvas\",\n        ref: \"canvasW\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 725\n        },\n        __self: this\n      }));\n    } else {\n      return React.createElement(\"div\", {\n        id: \"canvasWrapper\",\n        style: {\n          width: !this.props.settStatus ? \"80%\" : \"50%\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 729\n        },\n        __self: this\n      }, React.createElement(LControls, {\n        play: this.play,\n        pause: this.pause,\n        stop: this.stop,\n        count: this.state.count * frameDuration / 1000,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 730\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        id: \"canvas\",\n        ref: \"canvasW\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 731\n        },\n        __self: this\n      }, React.createElement(\"canvas\", {\n        ref: \"canvas\",\n        id: \"graph\",\n        width: this.state.canvas.clientWidth,\n        height: this.state.canvas.clientHeight,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 732\n        },\n        __self: this\n      }), React.createElement(\"canvas\", {\n        id: \"toplayer\",\n        width: this.state.canvas.clientWidth,\n        height: this.state.canvas.clientHeight,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 733\n        },\n        __self: this\n      })));\n    }\n  }\n\n}\n\nclass LControls extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {};\n  }\n\n  render() {\n    return React.createElement(\"nav\", {\n      id: \"leftControls\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 747\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 748\n      },\n      __self: this\n    }, React.createElement(\"h4\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 749\n      },\n      __self: this\n    }, \"Animation 1 \")), React.createElement(\"nav\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 751\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      onClick: this.props.play,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 752\n      },\n      __self: this\n    }, React.createElement(FontAwesomeIcon, {\n      icon: faPlay,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 752\n      },\n      __self: this\n    })), React.createElement(\"button\", {\n      onClick: this.props.pause,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 753\n      },\n      __self: this\n    }, React.createElement(FontAwesomeIcon, {\n      icon: faPause,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 753\n      },\n      __self: this\n    })), React.createElement(\"button\", {\n      onClick: this.props.stop,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 754\n      },\n      __self: this\n    }, React.createElement(FontAwesomeIcon, {\n      icon: faStop,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 754\n      },\n      __self: this\n    }))), React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 756\n      },\n      __self: this\n    }, React.createElement(\"h4\", {\n      className: \"count\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 757\n      },\n      __self: this\n    }, this.props.count), React.createElement(\"h4\", {\n      className: \"seconds\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 758\n      },\n      __self: this\n    }, \" s \")), React.createElement(\"nav\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 760\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 761\n      },\n      __self: this\n    }, React.createElement(FontAwesomeIcon, {\n      icon: faSearchPlus,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 761\n      },\n      __self: this\n    })), React.createElement(\"button\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 762\n      },\n      __self: this\n    }, React.createElement(FontAwesomeIcon, {\n      icon: faSearchMinus,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 762\n      },\n      __self: this\n    })), React.createElement(\"button\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 763\n      },\n      __self: this\n    }, React.createElement(FontAwesomeIcon, {\n      icon: faArrowLeft,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 763\n      },\n      __self: this\n    })), React.createElement(\"button\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 764\n      },\n      __self: this\n    }, React.createElement(FontAwesomeIcon, {\n      icon: faArrowRight,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 764\n      },\n      __self: this\n    })), React.createElement(\"button\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 765\n      },\n      __self: this\n    }, React.createElement(FontAwesomeIcon, {\n      icon: faArrowUp,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 765\n      },\n      __self: this\n    })), React.createElement(\"button\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 766\n      },\n      __self: this\n    }, React.createElement(FontAwesomeIcon, {\n      icon: faArrowDown,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 766\n      },\n      __self: this\n    }))), React.createElement(\"nav\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 768\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 769\n      },\n      __self: this\n    }, React.createElement(\"b\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 769\n      },\n      __self: this\n    }, \"Save\")), React.createElement(\"button\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 770\n      },\n      __self: this\n    }, React.createElement(\"b\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 770\n      },\n      __self: this\n    }, \"Export\"))));\n  }\n\n}\n\nclass RControls extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {};\n  }\n\n  render() {\n    return React.createElement(\"nav\", {\n      id: \"rightControls\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 783\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: \"title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 784\n      },\n      __self: this\n    }, React.createElement(\"h4\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 785\n      },\n      __self: this\n    }, \"Curves\")), React.createElement(\"span\", {\n      className: \"buttons\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 787\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 788\n      },\n      __self: this\n    }, \" Clear All \")));\n  }\n\n}\n\nclass ParamWrapper extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.newCurve = () => {\n      curves[0].push(new Curve2d([], [], \"#FFFFFF\", 3, [1, 0]));\n      animations.push(new Animation(0, 0, 1, 10, [[0, curves[0].length - 1]]));\n      this.setState({\n        curves: curves\n      });\n    };\n\n    this.newPCurve = () => {\n      curves[1].push(new Curve2d([], [], \"#FFFFFF\", 3, [1, 0]));\n      animations.push(new Animation(0, 0, 1, 10, [[1, curves[1].length - 1]]));\n      this.setState({\n        curves: curves\n      });\n    };\n\n    this.delete = arg => {\n      curves[arg[0]].splice(arg[1], 1); //Deleting curve from relevant animation\n\n      let indice = findInd(arg);\n      animations[indice[0]].curvInd.splice(indice[1], 1); //Adjusting curve indices after deletion\n\n      animations.forEach((el, ind) => {\n        if (ind == indice[0]) {\n          if (!!el.curvInd[indice[1]]) {\n            el.curvInd.forEach((element, index) => element[1] -= index >= indice[1] && element[0] == arg[0] ? 1 : 0);\n          }\n        }\n\n        if (ind > indice[0]) {\n          el.curvInd.forEach((element, index) => element[1] -= element[0] == arg[0] ? 1 : 0);\n        }\n      }); //Deleting empty animations that may be due to deletion\n\n      animations = animations.filter(el => el.curvInd.length > 0); //Ajdusting animations left with only one curve by setting their type to 0\n\n      animations.forEach(el => {\n        if (el.curvInd.length == 1) el.type = 0;\n      });\n      this.setState({\n        curves: curves\n      });\n    };\n\n    this.state = {\n      curves: curves\n    };\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      id: \"paramWrapper\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 833\n      },\n      __self: this\n    }, React.createElement(RControls, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 834\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      id: \"parameters\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 835\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"buttons\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 836\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      id: \"addc\",\n      onClick: this.newCurve,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 837\n      },\n      __self: this\n    }, \" \", React.createElement(FontAwesomeIcon, {\n      icon: faPlus,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 837\n      },\n      __self: this\n    }), \" FCurve \"), React.createElement(\"button\", {\n      id: \"addp\",\n      onClick: this.newPCurve,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 838\n      },\n      __self: this\n    }, \" \", React.createElement(FontAwesomeIcon, {\n      icon: faPlus,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 838\n      },\n      __self: this\n    }), \" PCurve \")), React.createElement(\"div\", {\n      className: \"inputs\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 840\n      },\n      __self: this\n    }, animations.map((el, ind) => {\n      if (el.curvInd.length == 1) {\n        return React.createElement(WrCurve, {\n          key: [el.curvInd[0][0], el.curvInd[0][1]].toString(),\n          type: el.curvInd[0][0],\n          cindex: el.curvInd[0][1],\n          delete: this.delete,\n          showSett: this.props.showSett,\n          currentSett: this.props.currentSett,\n          settStatus: this.props.settStatus,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 843\n          },\n          __self: this\n        });\n      } else {\n        return React.createElement(\"span\", {\n          className: \"inputWrapper\",\n          key: ind,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 846\n          },\n          __self: this\n        }, el.curvInd.map((element, index) => {\n          return React.createElement(WrCurve, {\n            key: [element[0], element[1]].toString(),\n            type: element[0],\n            cindex: element[1],\n            delete: this.delete,\n            showSett: this.props.showSett,\n            currentSett: this.props.currentSett,\n            settStatus: this.props.settStatus,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 848\n            },\n            __self: this\n          });\n        }));\n      }\n    })), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 853\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      id: \"logo\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 855\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: \"drawing.svg\",\n      width: \"35%\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 856\n      },\n      __self: this\n    })));\n  }\n\n}\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.showSett = curveInd => {\n      this.setState({\n        settStatus: true,\n        currentSett: curveInd\n      });\n    };\n\n    this.hideSett = () => {\n      this.setState({\n        settStatus: false,\n        currentSett: [[]]\n      });\n    };\n\n    curves[0].push(new Curve2d([], [], \"#FFFFFF\", 3, [1, 0]));\n    animations.push(new Animation(0, 0, 1, 10, [[0, 0]]));\n    this.state = {\n      curves: curves,\n      settStatus: false,\n      currentSett: []\n    };\n  }\n\n  render() {\n    let sett = this.state.settStatus ? React.createElement(Settings, {\n      currentSett: this.state.currentSett,\n      hide: this.hideSett,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 876\n      },\n      __self: this\n    }) : null;\n    return React.createElement(\"div\", {\n      id: \"main\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 877\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      id: \"core\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 878\n      },\n      __self: this\n    }, React.createElement(Canvas, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 879\n      },\n      __self: this\n    }), sett, React.createElement(ParamWrapper, {\n      showSett: this.showSett,\n      currentSett: this.state.currentSett,\n      settStatus: this.state.settStatus,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 881\n      },\n      __self: this\n    })));\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/var/www/html/xfy/src/App.js"],"names":["React","FontAwesomeIcon","faTimes","faCog","faSave","faAngleUp","faAngleDown","faAngleLeft","faAngleRight","faPencilAlt","faSearchPlus","faSearchMinus","faArrowLeft","faArrowRight","faArrowUp","faArrowDown","faPlus","faPlay","faPause","faStop","Functions","Animations","SketchPicker","nbSubdiv","nbSubdivDelim","curves","animations","delimiters","frameDuration","totalDuration","k","mainLoop","paused","findInd","cInd","indice","forEach","el","ind","curvInd","element","index","createDelim","width","x","nbS","dashes","color","expression","expressions","evaluateInput","y","isNaN","eval","delimiterX","subdivide","delimiterY","Curve2d","constructor","X","Y","Animation","type","anchor","duration","fps","animCurves","execute","steps","thestep","canvasDim","frameNumber","context","executeBefore","i","length","push","delim","drawCurve","morph","tab1","tab2","ColorPicker","Component","state","displayColorPicker","props","handleClick","setState","handleClose","handleChange","colorRgb","rgb","hex","update","render","styles","view","backgroundColor","popover","position","zIndex","marginTop","borderRadius","wrapper","button","icon","Delimiter","handleDashInput","e","target","value","parseInt","handleSpacingInput","handleXChange","console","log","handleWChange","thickerW","thinnerW","handleColorChange","delete","componentDidUpdate","WrCurve","previous","cEdit","input","next","modified","map","cindex","t","test","parseFloat","error","edit","save","handleInputChange","event","inputHandler","which","componentDidMount","window","MathJax","Hub","Queue","focus","inputClasses","placeholders","labels","selected","currentSett","opacity","pointerEvents","settStatus","showSett","display","Settings","thickness","hide","addDelimiter","updateDelim","data","deleteDelim","splice","animType","reset","clearDelimiters","toString","Canvas","play","pointer","A","canvas","refs","getContext","newState","tstep","Maximum","xstep","drawnSteps","nbSteps","offStepSteps","ystep","Minimum","drawFramePointer","drawFrame","clearInterval","setInterval","animation","stepSize","height","count","pause","stop","clearRect","drawYAxis","colors","axeColor","widths","axeWidth","drawXAxis","drawOnX","dashColor","wireColor","dashWidth","wireWidth","font","drawOnY","drawOnMinusX","drawOnMinusY","curveColor","axeWdith","canvasW","tempSteps","nbXSteps","clientWidth","nbYSteps","clientHeight","componentDidUpdatedate","LControls","RControls","ParamWrapper","newCurve","newPCurve","arg","filter","App","curveInd","hideSett","sett"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faTimes, faCog, faSave, faAngleUp, faAngleDown, faAngleLeft, faAngleRight, faPencilAlt, faSearchPlus, faSearchMinus, faArrowLeft, faArrowRight, faArrowUp, faArrowDown, faPlus, faPlay, faPause, faStop } from '@fortawesome/free-solid-svg-icons';\nimport Functions from './Library';\nimport Animations from './Animations';\nimport { SketchPicker } from 'react-color';\nimport './stylesheets/App.css';\n\n//Number of subdivisions of X (and thus Y) and Number of subdivisions for delimiters  \nlet nbSubdiv = 500, nbSubdivDelim = 50;\nlet curves = [[], []], animations = [], delimiters = [];\n//Global variables linked to canvas (for execution, pausing and stopping animation)\nlet frameDuration = 0, totalDuration = 0, k = 0, mainLoop = 0, paused = false;\n\n//Function for finding animation involving given curve indices\nfunction findInd(cInd){\n\tlet indice = [];\n\tanimations.forEach((el, ind) => {\n\t\tel.curvInd.forEach((element, index) => {\n\t\t\tif(element[0] === cInd[0] && element[1] === cInd[1]){\n\t\t\t\tindice[0] = ind;\n\t\t\t\tindice[1] = index;\n\t\t\t};\n\t\t});\n\t});\n\treturn indice;\n}\n//Function for computing and return delimiters, takes in :\n//delimiter width, index, place of delimiter between 0 & nbSubdiv, \n//and number of subdivisions of the delimiter curve (the line), dashes, color\nfunction createDelim(width, cInd, x, nbS, dashes, color){\n\tlet expression = (curves[cInd[0]][cInd[1]].expressions[0] != null) ? Functions.evaluateInput(curves[cInd[0]][cInd[1]].expressions[0]) : 0;\n\tlet y = (!isNaN(eval(expression))) ? eval(expression) : 0 ;\n\tlet delimiterX = Functions.subdivide(x, x, nbS);\n\tlet delimiterY = Functions.subdivide(0, y, nbS);\n\treturn ({\n\t\t\t\tx: x,\n\t\t\t\twidth: width,\n\t\t\t\tdelimiterX: delimiterX,\n\t\t\t\tdelimiterY: delimiterY,\n\t\t\t\tcolor: color,\n\t\t\t\tdashes: dashes\n\t\t\t});\n}\nclass Curve2d{\n\tconstructor(X, Y, color, width, dashes, delimiters) {\n\t\tthis.X = X;\n\t\tthis.Y = Y;\n\t\tthis.color = \"#f3f1f3\";\n\t\tthis.width = width;\n\t\tthis.dashes = dashes;\n\t\tthis.expressions = [null, null, null, null];\n\t\tthis.delimiters=[];\n\t}\n}\nclass Animation{\n\t/* \n\t\ttype: type of animation (Integer) \n\t\tanchor: starting point in time (Float)\n\t\tduration: duration of animation in seconds (Float)\n\t\tfps: frames per second (Integer)\n\t\tcurvInd: the curves involved in the animation ([[0 or 1, index],[...],...])\n\t*/\n\tconstructor(type, anchor, duration, fps, curvInd){\n\t\tthis.type = type;\n\t\tthis.curvInd = curvInd;\n\t\tthis.animCurves = [];\n\t\tthis.anchor = anchor;\n\t\tthis.duration = duration;\n\t\tthis.fps = fps;\n\t}\n\texecute(steps, thestep, canvasDim, frameNumber, context, executeBefore = () => {} ){\n\t\tfor(let i = 0; i < this.curvInd.length; i++){\n\t\t\tthis.animCurves.push(curves[this.curvInd[i][0]][this.curvInd[i][1]]);\n\t\t}\n\t\tswitch(this.type){\n\t\t\t//no animation\n\t\t\tcase 0:\n\t\t\t\texecuteBefore();\n\t\t\t\tlet delim = this.animCurves[0].delimiters;\n\t\t\t\tFunctions.drawCurve(this.animCurves[0].width, this.animCurves[0].dashes, this.animCurves[0].X, this.animCurves[0].Y, steps, thestep, canvasDim[0]/2, canvasDim[1]/2, this.animCurves[0].color, context);\n\t\t\t\t//let delimitercreateDelim(2, this.curvInd[0], 0, 50, [1, 1], this.animCurves[0].color);\n\t\t\t\t//Draw Delimiters\n\t\t\t\tfor(let i = 0; i < this.animCurves[0].delimiters.length; i++){\n\t\t\t\t\tFunctions.drawCurve(delim[i].width, delim[i].dashes, delim[i].delimiterX, delim[i].delimiterY, steps, thestep, canvasDim[0]/2, canvasDim[1]/2, delim[i].color, context);\t\n\t\t\t\t}\n\t\t\t\t//Functions.drawCurve(2, [1, 2], this.delimitersLX, this.delimitersLY, steps, thestep, canvasDim[0]/2, canvasDim[1]/2, this.animCurves[0].color, context);\n\t\t\t\t//Functions.drawCurve(2, [1, 2], this.delimitersRX, this.delimitersRY, steps, thestep, canvasDim[0]/2, canvasDim[1]/2, this.animCurves[0].color, context);\n\t\t\t\tbreak;\n\t\t\t//morph curve1 into curve2 \n\t\t\tcase 1:\n\t\t\t\tAnimations.morph(this.animCurves, frameNumber, this.duration*this.fps, (tab1, tab2) => {\n\t\t\t\t\texecuteBefore();\n\t\t\t\t\tFunctions.drawCurve(this.animCurves[0].width, this.animCurves[0].dashes, tab1, tab2, steps, thestep, canvasDim[0]/2, canvasDim[1]/2, this.animCurves[0], context);\n\t\t\t\t});\n\t\t\t\tbreak;\n\t\t}\n\t}\n};\n\nclass ColorPicker extends React.Component{\n\tstate = {\n\t    displayColorPicker: false,\n\t    color: this.props.color,\n  \t};\n\n  \thandleClick = () => {\n    \tthis.setState({ displayColorPicker: !this.state.displayColorPicker })\n  \t};\n\n\thandleClose = () => {\n\t\tthis.setState({ displayColorPicker: false })\n\t};\n\n \thandleChange = (color) => {\n \t\tlet colorRgb = color.rgb;\n    \tthis.setState({ color: color.hex}, () => this.props.update(color.hex))\n  \t};\n\trender() {\n\t\tconst styles = {\n\t        view:{\n\t        \tbackgroundColor: this.state.color,\n\t        },\n\t        popover:{\n\t          \tposition: \"absolute\",\n\t          \tzIndex: \"2\",\n\t          \tmarginTop: \"1.5%\",\n\t          \tborderRadius: \"10px\"\n\t        }\n\t    };\n\t    return (\n\t      \t\t<span className=\"colorWrapper\">\n\t\t        \t<span style={styles.wrapper}>\n\t\t        \t\t<input style={styles.view} onClick={this.handleClick} />\n\t\t        \t\t<button style={styles.button} onClick={this.handleClick}><FontAwesomeIcon style={styles.icon} icon={(this.state.displayColorPicker) ? faAngleUp : faAngleDown } /></button>\n\t        \t\t</span>\n\t        \t\t{ this.state.displayColorPicker ? <div style={styles.popover}>\n\t          \t\t\t<SketchPicker color={this.state.color} onChange={this.handleChange} />\n\t        \t\t</div> : null }\n\t      \t\t</span>\n\t    \t\t)\n\t}\n}\nclass Delimiter extends React.Component{\n\tconstructor(props) {\n\t  \tsuper(props);\n\t\n\t\tthis.state = {\n\t\t\tx: this.props.x,\n\t\t\twidth: this.props.width,\n\t\t\tdashes: this.props.dashes,\n\t\t\tcolor: this.props.color\n\t\t};\n\t}\n\thandleDashInput = (e) => {\n\t\tif(e.target.value == \"\"){\n\t\t\tthis.setState({dashes: [\"a\", this.state.dashes[1]]});\n\t\t}\n\t\telse{\n\t\t\tif(!isNaN(e.target.value)){ \n\t\t\t\tthis.setState({dashes: [parseInt(e.target.value), this.state.dashes[1]]});\n\t\t\t}\n\t\t}\n\t}\n\thandleSpacingInput = (e) => {\n\t\tif(e.target.value == \"\"){\n\t\t\tthis.setState({dashes: [this.state.dashes[0], \"a\"]});\n\t\t}\n\t\telse{\n\t\t\tif(!isNaN(e.target.value)){ \n\t\t\t\tthis.setState({dashes: [this.state.dashes[0], parseInt(e.target.value)]});\n\t\t\t}\n\t\t}\n\t}\n\thandleXChange = (e) => {\n\t\t//RegExp(\"^[-+]?[0-9]*\\.?[0-9]+$\").test(e.target.value)\n\t\tconsole.log(e.target.value.length > 1);\n\t\tthis.setState({x: e.target.value});\n\t}\n\thandleWChange = (e) => {\n\t\tif(e.target.value == \"\"){\n\t\t\tthis.setState({width: \"a\"});\n\t\t}\n\t\telse{\n\t\t\tif(!isNaN(e.target.value)) {\n\t\t\t\tthis.setState({width: parseInt(e.target.value)});\n\t\t\t}\n\t\t}\n\t}\n\tthickerW = () => {\n\t\tthis.setState({width: (this.state.width + 1)});\n\t}\n\tthinnerW = () => {\n\t\tif(this.state.width > 1){ \n\t\t\tthis.setState({width: (this.state.width - 1)});\n\t\t}\n\t}\n\thandleColorChange = (color) => {\n\t\tthis.setState({color: color});\n\t}\n\tdelete = () => {\n\t\tthis.props.delete(this.props.ind);\n\t}\n\tcomponentDidUpdate = () => {\n\t\tthis.props.update(this.props.ind, this.state);\n\t}\n\trender(){\n\t\treturn (<div className=\"delimWrapper\">\n\t\t\t\t\t<div className=\"inpWrapper xPosition\">\n\t\t\t\t\t\t<input className=\"xPosition\" value={(this.state.x == \"a\") ? \"\" : this.state.x} onChange={this.handleXChange} />\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"inpWrapper thickness\">\n\t\t\t\t\t\t<input className=\"width\" value={(this.state.width == \"a\") ? \"\" : this.state.width} onChange={this.handleWChange} maxLength=\"3\" />\n\t\t\t\t\t</div>\n\t\t\t\t\t<button className=\"thicker\" onClick={this.thickerW}><b>+</b></button>\n\t\t\t\t\t<button className=\"thinner\" onClick={this.thinnerW}><b>-</b></button>\n\t\t\t\t\t<div className=\"inpWrapper dashes\">\n\t\t\t\t\t\t<input className=\"dash\" placeholder=\"1\" value={(this.state.dashes[0] == \"a\") ? \"\" : this.state.dashes[0]} onChange={this.handleDashInput}/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"inpWrapper spacing\">\n\t\t\t\t\t\t<input className=\"spacing\" placeholder=\"0\" value={(this.state.dashes[1] == \"a\") ? \"\" : this.state.dashes[1]} onChange={this.handleSpacingInput}/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<ColorPicker update={this.handleColorChange} color={this.state.color}/> \n\t\t\t\t\t<button className=\"delete\" onClick={this.delete}><FontAwesomeIcon icon={faTimes} /></button>\n\t\t\t\t</div>);\n\t}\n}\n//Wrapper Curve: Template for Functional and Parameterized Curves\nclass WrCurve extends React.Component{\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = { cEdit: 0, modified: [false, false, false, false], error: false };\n\t\t//animations.push(new Animation(0, 1, 1, [[this.props.type, this.props.cindex]]));\n\t}\n\tcomponentDidMount(){\n\t\twindow.MathJax.Hub.Queue([\"Typeset\", window.MathJax.Hub, \"parameters\"]);\n\t}\n\tcomponentDidUpdate(){\n\t\tthis.input.focus();\n\t\tthis.input.value = curves[this.props.type][this.props.cindex].expressions[this.state.cEdit - 1];\n\t}\n\tprevious = () => {\n\t\tthis.setState({ cEdit: (this.state.cEdit - 1) % 5});\n\t\tthis.input.value = \"\";\n\t};\n\tnext = () => {\n\t\tthis.setState({modified: this.state.modified.map((el, ind) => {\n\t\t\treturn ((ind == (this.state.cEdit - 1)) ? true : el);\n\t\t})});\n\t\ttry{\n\t\t\tlet expressions = curves[this.props.type][this.props.cindex].expressions;\n\t\t\tlet x = null;\n\t\t\tlet t = null;\n\t\t\tif(this.props.type == 0){\n\t\t\t\tx = 0;\t\t\t\n\t\t\t}\n\t\t\telse{\n\t\t\t\tt = 0;\n\t\t\t}\n\t\t\tlet test = parseFloat(eval(Functions.evaluateInput(this.input.value)));\n\t\t\tif(!isNaN(test)){\n\t\t\t\tthis.setState({ cEdit: (this.state.cEdit + 1) % 5}, () => {\n\t\t\t\t\tif(this.props.type === 0){\n\t\t\t\t\t\tif(!!expressions[1] && !!expressions[2]){\n\t\t\t\t\t\t\tcurves[this.props.type][this.props.cindex].X = Functions.subdivide(parseFloat(expressions[1]), parseFloat(expressions[2]), nbSubdiv);\n\t\t\t\t\t\t\tfor(let i = 0; i < curves[this.props.type][this.props.cindex].X.length; i++){\n\t\t\t\t\t\t\t\tlet x = (curves[this.props.type][this.props.cindex].X)[i];\n\t\t\t\t\t\t\t\tcurves[this.props.type][this.props.cindex].Y[i] = eval(Functions.evaluateInput(expressions[0]));\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\tif(!!expressions[1] && !!expressions[2] && !!expressions[3]){\n\t\t\t\t\t\t\t//Subdivided t parameter values tab\n\t\t\t\t\t\t\tlet tab1 = Functions.subdivide(parseFloat(expressions[2]), parseFloat(expressions[3]), nbSubdiv);\n\t\t\t\t\t\t\tfor(let i = 0; i < tab1.length; i++){\n\t\t\t\t\t\t\t\tlet t = tab1[i];\n\t\t\t\t\t\t\t\tcurves[this.props.type][this.props.cindex].X[i] = eval(Functions.evaluateInput(expressions[0]));\n\t\t\t\t\t\t\t\tcurves[this.props.type][this.props.cindex].Y[i] = eval(Functions.evaluateInput(expressions[1]));\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\t\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tthis.input.value = \"\";\n\t\t\t\tthis.setState({error: false});\n\t\t\t}\n\t\t\telse{\n\t\t\t\tthis.setState({error: true});\n\t\t\t}\n\t\t}\n\t\tcatch(error){\n\t\t\tthis.setState({error: true});\n\t\t}\n\t};\n\tedit = () => {\n\t\tthis.setState({ cEdit: 1});\n\t};\t\n\tsave = () => {\n\t\tthis.setState({modified: this.state.modified.map((el, ind) => {\n\t\t\treturn ((ind == (this.state.cEdit - 1)) ? true : el);\n\t\t})});\n\t\ttry{\n\t\t\tlet expressions = curves[this.props.type][this.props.cindex].expressions;\n\t\t\tlet x = null;\n\t\t\tlet t = null;\n\t\t\tif(this.props.type == 0){\n\t\t\t\tx = 0;\t\t\t\n\t\t\t}\n\t\t\telse{\n\t\t\t\tt = 0;\n\t\t\t}\n\t\t\tlet test = parseFloat(eval(Functions.evaluateInput(this.input.value)));\n\t\t\tif(!isNaN(test)){\n\t\t\t\tif(this.props.type === 0){\n\t\t\t\t\tif(!!expressions[1] && !!expressions[2]){\n\t\t\t\t\t\tcurves[this.props.type][this.props.cindex].X = Functions.subdivide(parseFloat(expressions[1]), parseFloat(expressions[2]), nbSubdiv);\n\t\t\t\t\t\tfor(let i = 0; i < curves[this.props.type][this.props.cindex].X.length; i++){\n\t\t\t\t\t\t\tlet x = (curves[this.props.type][this.props.cindex].X)[i];\n\t\t\t\t\t\t\tcurves[this.props.type][this.props.cindex].Y[i] = eval(Functions.evaluateInput(expressions[0]));\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tif(!!expressions[1] && !!expressions[2] && !!expressions[3]){\n\t\t\t\t\t\t//Subdivided t parameter values tab\n\t\t\t\t\t\tlet tab1 = Functions.subdivide(parseFloat(expressions[2]), parseFloat(expressions[3]), nbSubdiv);\n\t\t\t\t\t\tfor(let i = 0; i < tab1.length; i++){\n\t\t\t\t\t\t\tlet t = tab1[i];\n\t\t\t\t\t\t\tcurves[this.props.type][this.props.cindex].X[i] = eval(Functions.evaluateInput(expressions[0]));\n\t\t\t\t\t\t\tcurves[this.props.type][this.props.cindex].Y[i] = eval(Functions.evaluateInput(expressions[1]));\n\t\t\t\t\t\t}\n\t\t\t\t\t}\t\n\t\t\t\t}\n\t\t\t\tthis.input.value = \"\";\n\t\t\t\tthis.setState({cEdit: 0, error: false});\n\t\t\t}\n\t\t\telse{\n\t\t\t\tthis.setState({error: true});\n\t\t\t}\n\t\t}\n\t\tcatch(error){\n\t\t\tthis.setState({error: true});\n\t\t}\n\t};\n\thandleInputChange = (event) => {\n\t\tcurves[this.props.type][this.props.cindex].expressions[this.state.cEdit - 1] = event.target.value;\n\t\tlet x = null;\n\t\tlet t = null;\n\t\tif(this.props.type == 0){\n\t\t\tx = 0;\t\t\t\n\t\t}\n\t\telse{\n\t\t\tt = 0;\n\t\t}\n\t\tlet test;\n\t\ttry{\n\t\t\ttest = parseFloat(eval(Functions.evaluateInput(event.target.value)));\n\t\t}\n\t\tcatch(error){\n\t\t}\n\t\tif(isNaN(test) && event.target.value != \"\" && this.state.modified[this.state.cEdit - 1]){\n\t\t\tthis.setState({error: true});\n\t\t}\n\t\telse{\n\t\t\tthis.setState({error: false});\n\t\t}\n\t}\n\tinputHandler = (e) => {\n\t\tif(e.which === 13) this.next();\n\t};\n\trender(){\n\t\tlet inputClasses = [], placeholders = [], labels = [];\n\t\tlet selected = ((this.props.currentSett[0] == this.props.type) && (this.props.currentSett[1] == this.props.cindex));\n\t\tif(this.props.type === 0){\n\t\t\tinputClasses = [\"f\", \"selected f\", \"selected value\", \"selected value\", \"selected value\"]; \n\t\t\tplaceholders = [\"cos(sin(x))\", \"cos(sin(x))\", \"-1\", \"1\", \"100\"];\n\t\t\tlabels = [\"f_{ \" + (this.props.cindex + 1) + \" }(x)\", \"a\", \"b\", \"n\"];\n\t\t}else{\n\t\t\tinputClasses = [\"x\", \"selected x\", \"selected y\", \"selected value\", \"selected value\"]\n\t\t\tplaceholders = [\"cos(t)\", \"cos(t)\", \"sin(t)\", \"-4\", \"4\"];\n\t\t\tlabels = [\"x_{ \" + (this.props.cindex + 1) + \" }(t)\", \"y_{ \" + (this.props.cindex + 1) + \" }(t)\", \"a\", \"b\"];\n\t\t} \n\t\treturn (<span className=\"input\" style={{opacity: (selected) ? 0.4 : 1, pointerEvents: (selected) ? \"none\" : \"auto\" }}>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<button className=\"openS\" onClick={() => {if(!this.props.settStatus) this.props.showSett([this.props.type, this.props.cindex])}} style={{display: (this.state.cEdit) ? \"none\" : \"inline\"}}><FontAwesomeIcon icon={faCog}/></button>\n\t\t\t\t\t\t<button className=\"save\" onClick={this.save} style={{display: (this.state.cEdit) ? \"inline\" : \"none\"}}><FontAwesomeIcon icon={faSave}/></button>\n\t\t\t\t\t\t<button className=\"previous\" onClick={this.previous} style={{display: (this.state.cEdit > 1) ? \"inline\" : \"none\"}}><FontAwesomeIcon icon={faAngleLeft} size=\"lg\"/></button>\n\t\t\t\t\t\t<label style={{display: (this.state.cEdit < 2) ? \"inline\" : \"none\"}}>&#92;({labels[0]}&#92;)</label>\n\t\t\t\t\t\t<label style={{display: (this.state.cEdit === 2) ? \"inline\" : \"none\"}}>&#92;({labels[1]}&#92;)</label>\n\t\t\t\t\t\t<label style={{display: (this.state.cEdit === 3) ? \"inline\" : \"none\"}}>&#92;({labels[2]}&#92;)</label>\n\t\t\t\t\t\t<label style={{display: (this.state.cEdit === 4) ? \"inline\" : \"none\"}}>&#92;({labels[3]}&#92;)</label>\n\t\t\t\t\t\t<input className={inputClasses[this.state.cEdit] + \" \" + ((this.state.error) ? \"error\" : \"\")} type=\"text\" ref={(input) => { this.input = input; }} onKeyUp={this.inputHandler} placeholder={placeholders[this.state.cEdit]} onChange={this.handleInputChange}/>\n\t\t\t\t\t\t<button className=\"next\" onClick={this.next} style={{display: (this.state.cEdit) ? \"inline\" : \"none\"}}><FontAwesomeIcon icon={faAngleRight} size=\"lg\"/></button>\n\t\t\t\t\t\t<button className=\"edit\" onClick={this.edit} style={{display: (this.state.cEdit) ? \"none\" : \"inline\"}}><FontAwesomeIcon icon={faPencilAlt}/></button>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"delete\" style={{display: (this.state.cEdit || this.props.settStatus) ? \"none\" : \"inline\"}}>\n\t\t\t\t\t\t<button className=\"delete\" onClick={() => {this.props.delete([this.props.type, this.props.cindex])}}><FontAwesomeIcon icon={faTimes}/></button>\n\t\t\t\t\t</div>\n\t\t\t\t</span>);\n\t}\n}\nclass Settings extends React.Component {\n\tconstructor(props){\n\t\tsuper(props);\n\t\tlet ind = this.props.currentSett;\n\t\tdelimiters = curves[ind[0]][ind[1]].delimiters;\n\t\tthis.state = {\n\t\t\tind: ind,\n\t\t\tthickness: curves[ind[0]][ind[1]].width,\n\t\t\tdashes: curves[ind[0]][ind[1]].dashes,\n\t\t\tdelimiters: delimiters,\n\t\t\tcolor: curves[ind[0]][ind[1]].color,\n\t\t\tanchor: animations[(findInd(ind))[0]].anchor,\n\t\t\tduration: animations[(findInd(ind))[0]].duration,\n\t\t\tanimType: animations[(findInd(ind))[0]].type\n\t\t};\n\t}\n\tcomponentDidMount(){\n\t\twindow.MathJax.Hub.Queue([\"Typeset\", window.MathJax.Hub, \"settWrapper\"]);\n\t}\n\tsave = () => {\n\t\tlet ind = this.state.ind;\n\t\tdelimiters = delimiters.map(el => createDelim(el.width, this.state.ind, el.x, nbSubdivDelim, el.dashes, el.color));\n\t\tcurves[ind[0]][ind[1]].width = this.state.thickness;\n\t\tcurves[ind[0]][ind[1]].color = this.state.color;\n\t\tcurves[ind[0]][ind[1]].dashes = this.state.dashes;\n\t\tcurves[ind[0]][ind[1]].delimiters = delimiters;\n\t\tanimations[findInd(ind)[0]].anchor = this.state.anchor;\n\t\tanimations[findInd(ind)[0]].duration = this.state.duration;\n\t\tthis.props.hide();\n\t}\n\taddDelimiter = () => {\n\t\tdelimiters.push({x: 0, width: 2, dashes: [1, 2], color: \"#FFFFFF\"});\n\t\tthis.setState({delimiters: delimiters});\n\t}\n\tupdateDelim = (index, data) => {\n\t\tdelimiters[index] = data;\n\t}\n\tdeleteDelim = (ind) => {\n\t\tdelimiters.splice(ind, 1);\n\t\tthis.setState({delimiters: delimiters});\n\t}\n\t//<SketchPicker color={(!!this.state.color.hex) ? this.state.color.hex : this.state.color} onChangeComplete={(color) => this.setState({color: color})}/>\n\t//<ColorPicker color={this.state.curveColor} update={(color) => this.setState({curveColor: color})} />\n\trender(){\n\t\tlet ind = this.state.ind;\n\t\treturn (<div id=\"settWrapper\">\n\t\t\t\t\t<nav id=\"centerControls\">\n\t\t\t\t\t\t<span className=\"title\">\n\t\t\t\t\t\t\t<label>Settings</label>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t\t<span className=\"buttons\">\n\t\t\t\t\t\t\t<button onClick={this.reset}> Reset </button>\n\t\t\t\t\t\t\t<button onClick={this.save}> Save </button>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</nav>\n\t\t\t\t\t<div id=\"fsettings\">\n\t\t\t\t\t\t<div className=\"row\">\n\t\t\t\t\t\t\t<div className=\"subrow curve\">\n\t\t\t\t\t\t\t\t<label>Curve characteristics</label>\n\t\t\t\t\t\t\t\t<div className=\"wrapper\">\n\t\t\t\t\t\t\t\t\t<div className=\"subwrapper\">\t\n\t\t\t\t\t\t\t\t\t\t<label>Thickness</label>\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t<input type=\"text\" className=\"thickness\" value={this.state.thickness} onChange={(e) => {if(!isNaN(e.target.value) && e.target.value != \"\") this.setState({thickness: parseInt(e.target.value)})}} maxLength=\"3\" />\n\t\t\t\t\t\t\t\t\t\t<button className=\"thicker\" onClick={() => this.setState({thickness: (this.state.thickness+1)})}><b>+</b></button>\n\t\t\t\t\t\t\t\t\t\t<button className=\"thinner\" onClick={() => {if(this.state.thickness > 1) this.setState({thickness: (this.state.thickness-1)})}}><b>-</b></button>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div className=\"subwrapper\">\t\n\t\t\t\t\t\t\t\t\t\t<label>Dash:Spacing</label>\n\t\t\t\t\t\t\t\t\t\t<input className=\"dash\" placeholder=\"1\" value={(this.state.dashes[0] == -1) ? \"\" : this.state.dashes[0]} onChange={(e) => {\n\t\t\t\t\t\t\t\t\t\t\t\tif(e.target.value == \"\"){\n\t\t\t\t\t\t\t\t\t\t\t\t\tthis.setState({dashes: [-1, this.state.dashes[1]]});\n\t\t\t\t\t\t\t\t\t\t\t\t}\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t\telse{\n\t\t\t\t\t\t\t\t\t\t\t\t\tif(!isNaN(e.target.value)){ \n\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.setState({dashes: [parseInt(e.target.value), this.state.dashes[1]]});\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t}}/>\n\t\t\t\t\t\t\t\t\t\t<input className=\"spacing\" placeholder=\"0\" value={(this.state.dashes[1] == -1) ? \"\" : this.state.dashes[1]} onChange={(e) => {\n\t\t\t\t\t\t\t\t\t\t\t\tif(e.target.value == \"\"){\n\t\t\t\t\t\t\t\t\t\t\t\t\tthis.setState({dashes: [this.state.dashes[0], -1]});\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\telse{\n\t\t\t\t\t\t\t\t\t\t\t\t\tif(!isNaN(e.target.value)){ \n\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.setState({dashes: [this.state.dashes[0], parseInt(e.target.value)]});\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}}/>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div className=\"subwrapper\">\t\n\t\t\t\t\t\t\t\t\t\t<label>Color</label>\n\t\t\t\t\t\t\t\t\t\t<ColorPicker update={(color) => this.setState({color: color})} color={this.state.color}/>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\t\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"subrow\">\n\t\t\t\t\t\t\t\t<div className=\"wrapper\">\n\t\t\t\t\t\t\t\t\t<div className=\"subwrapper\">\n\t\t\t\t\t\t\t\t\t\t<label>Divide into: </label>\n\t\t\t\t\t\t\t\t\t\t<input type=\"text\" id=\"divide\" placeholder=\"20\" maxLength=\"3\" /><button id=\"divideb\">Divide</button>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div className=\"subwrapper\">\n\t\t\t\t\t\t\t\t\t\t<label>Opacity</label>\n\t\t\t\t\t\t\t\t\t\t<input type=\"text\" id=\"opacity\"/>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"row\">\n\t\t\t\t\t\t\t<div className=\"subrow\" >\n\t\t\t\t\t\t\t\t<div className=\"wrapper\">\n\t\t\t\t\t\t\t\t\t<div className=\"subwrapper\">\n\t\t\t\t\t\t\t\t\t\t<label>Starting time: </label>\n\t\t\t\t\t\t\t\t\t\t<input type=\"text\" id=\"anchor\" value={this.state.anchor} onChange={(e) => this.setState({anchor: parseInt(e.target.value)})}/> seconds\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div className=\"subwrapper\">\t\n\t\t\t\t\t\t\t\t\t\t<label>Duration: </label>\n\t\t\t\t\t\t\t\t\t\t<input type=\"text\" id=\"duration\" value={this.state.duration} onChange={(e) => this.setState({duration: parseInt(e.target.value)})}/> seconds\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"subrow\">\n\t\t\t\t\t\t\t\t<div className=\"wrapper\">\n\t\t\t\t\t\t\t\t\t<div className=\"subwrapper\">\n\t\t\t\t\t\t\t\t\t\t<button className={(this.state.animType == 0) ? \"anim selected\" : \"anim\"} id=\"noanim\" onClick={() => this.setState({animType: 0})}>No animation</button>\n\t\t\t\t\t\t\t\t\t\t<button className={(this.state.animType == 1) ? \"anim selected\" : \"anim\"} id=\"morph\" onClick={() => this.setState({animType: 1})}>Morph</button>\n\t\t\t\t\t\t\t\t\t\t<button className={(this.state.animType == 2) ? \"anim selected\" : \"anim\"} id=\"completeb\">Complete</button>\n\t\t\t\t\t\t\t\t\t\t<button className={(this.state.animType == 3) ? \"anim selected\" : \"anim\"} id=\"chase\">Chase</button>\n\t\t\t\t\t\t\t\t\t\t<button className={(this.state.animType == 4) ? \"anim selected\" : \"anim\"} id=\"rotate\">Rotate</button>\n\t\t\t\t\t\t\t\t\t\t<button className={(this.state.animType == 5) ? \"anim selected\" : \"anim\"} id=\"recompose\">Recompose</button>\n\t\t\t\t\t\t\t\t\t\t<button className={(this.state.animType == 6) ? \"anim selected\" : \"anim\"} id=\"mover\">Scroll right</button>\n\t\t\t\t\t\t\t\t\t\t<button className={(this.state.animType == 7) ? \"anim selected\" : \"anim\"} id=\"movel\">Scroll left</button>\n\t\t\t\t\t\t\t\t\t\t<button className={(this.state.animType == 8) ? \"anim selected\" : \"anim\"} id=\"moveu\">Scroll up</button>\n\t\t\t\t\t\t\t\t\t\t<button className={(this.state.animType == 9) ? \"anim selected\" : \"anim\"} id=\"moved\">Scroll down</button>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"row\">\n\t\t\t\t\t\t\t<div className=\"subrow\">\n\t\t\t\t\t\t\t\t<div className=\"wrapper\">\n\t\t\t\t\t\t\t\t\t<div className=\"subwrapper delimLabel\">\n\t\t\t\t\t\t\t\t\t\t<label>Delimiters</label>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div className=\"subwrapper\">\n\t\t\t\t\t\t\t\t\t\t<button onClick={this.addDelimiter}>Add delimiter</button>\n\t\t\t\t\t\t\t\t\t\t<button onClick={this.clearDelimiters}>Clear all</button>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div><br/>\n\t\t\t\t\t\t\t\t<div className=\"wrapper\">\n\t\t\t\t\t\t\t\t\t<div className=\"subwrapper delimTable\">\n\t\t\t\t\t\t\t\t\t\t<div className=\"labels\">\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"delimColumn xPosition\">\n\t\t\t\t\t\t\t\t\t\t\t\t<label>x</label>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"delimColumn thickness\">\n\t\t\t\t\t\t\t\t\t\t\t\t<label>width</label>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"delimColumn dashes\">\n\t\t\t\t\t\t\t\t\t\t\t\t<label>dash:space</label>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"delimColumn color\">\n\t\t\t\t\t\t\t\t\t\t\t\t<label>color</label>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"delimColumn filler\" />\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\tthis.state.delimiters.map((el, index) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn <Delimiter x={el.x} width={el.width} dashes={[el.dashes[0], el.dashes[1]]} color={el.color} key={el.x.toString() + index.toString()} ind={index} delete={this.deleteDelim} update={this.updateDelim}/>\n\t\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>);\n\t}\n}\n\nclass Canvas extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = { \n\t\t\tcolors: { \n\t\t\t\taxeColor: \"#e6e4e7\",\n\t\t\t\twireColor: \"#28262d\",\n\t\t\t\tdashColor: \"#e6e4e7\", \n\t\t\t\tcurveColor: \"#ebe9ec\"\n\t\t\t},\n\t\t\twidths: {\n\t\t\t\taxeWdith: [1, 1],\n\t\t\t\twireWidth: [1, 1],\n\t\t\t\tdashWidth: {\n\t\t\t\t\tx: [2, 2],\n\t\t\t\t\ty: [2, 2]\n\t\t\t\t}\n\t\t\t},\n\t\t\tdrawnSteps: {\n\t\t\t\tnbSteps: {\n\t\t\t\t\tx: [9, 9],\n\t\t\t\t\ty: [8, 8]\n\t\t\t\t},\n\t\t\t\toffStepSteps: {\n\t\t\t\t\tx: [1, 1],\n\t\t\t\t\ty: [1, 1]\n\t\t\t\t},\t\n\t\t\t\tstepSize: {\n\t\t\t\t\tx: [35, 35],//for positive then negative x\n\t\t\t\t\ty: [35, 35]//for positive then negative y\n\t\t\t\t}   \t\n\t\t\t},\n\t\t\tfont: {\n\t\t\t\tx: [\"11px Arial\", \"11px Arial\"],\n\t\t\t\ty: [\"11px Arial\", \"11px Arial\"]\n\t\t\t},\n\t\t\tsteps: {\n\t\t\t\tx: [.25, .25],\n\t\t\t\ty: [.25, .25]\n\t\t\t},\n\t\t\t//Variable for updating time display\n\t\t\tcount: 0\n\t\t};\n\t}\n\tplay = () => {\n\t\t//Don't delete, pointer is to be used inside setInterval\n\t\tlet pointer = this;\n\t\tlet A = this.state;\n\t\tconst canvas = this.refs.canvas;\n\t\tconst context = canvas.getContext(\"2d\");\n\t\tthis.setState((state, props) => {\n\t\t\tlet newState = state;\n\t\t\t//Temporary xstep, ystep\n\t\t\tlet tstep = Functions.Maximum([Functions.xstep([...curves[0], ...curves[1]], A.drawnSteps.nbSteps.x, A.drawnSteps.offStepSteps.x), Functions.ystep([...curves[0], ...curves[1]], A.drawnSteps.nbSteps.y, A.drawnSteps.offStepSteps.y)]);\n\t\t\tnewState.steps.x = [tstep, tstep]; \n\t\t\tnewState.steps.y = [tstep, tstep];\n\t\t\treturn newState;\n\t\t}, () => {\n\t\t\t//frameDuration in milliseconds\n\t\t\tframeDuration = Functions.Minimum(animations.map(el => 1000/(el.fps)));\n\t\t\t//totalDuration in seconds\n\t\t\ttotalDuration = Functions.Maximum(animations.map(el => el.anchor + el.duration));\n\t\t\tlet drawFramePointer = this.drawFrame;\n\t\t\t//If animation already running\n\t\t\tif(!!mainLoop){\n\t\t\t\twindow.clearInterval(mainLoop);\n\t\t\t\t//If not paused start from the beginning\n\t\t\t\tif(!paused) {\n\t\t\t\t\tk = 0;\n\t\t\t\t}\n\t\t\t}\n\t\t\t//Either way set paused to false since it's playing now\n\t\t\tpaused = false;\n\t\t\tmainLoop = window.setInterval(function(){\n\t\t\t\t//console.log(\"k: \" + k);\n\t\t\t\tif(k < (totalDuration*1000)/frameDuration){\n\t\t\t\t\tk++;\n\t\t\t\t\tdrawFramePointer();\n\t\t\t\t\tanimations.forEach((el, ind) => {\n\t\t\t\t\t\tlet animation = el;\n\t\t\t\t\t\tanimation.fps = 1000/frameDuration;\n\t\t\t\t\t\tif(((k >= animation.anchor*animation.fps) && (k <= ((animation.anchor*animation.fps) + (animation.duration*animation.fps))))){\n\t\t\t\t\t\t\t//Feeding the execute function (k - animation.anchor*animation.fps) instead of k, as if the animation just started with its anchor \n\t\t\t\t\t\t\tanimation.execute([A.steps.x, A.steps.y], [A.drawnSteps.stepSize.x, A.drawnSteps.stepSize.y], [canvas.width, canvas.height], k - animation.anchor*animation.fps, context);\t\t\t\t\t\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\tpointer.setState({count: k});\n\t\t\t\t}\t\n\t\t\t\telse{\n\t\t\t\t\twindow.clearInterval(mainLoop);\n\t\t\t\t\tmainLoop = 0;\n\t\t\t\t\tk = 0;\n\t\t\t\t}\n\t\t\t}, frameDuration);\n\t\t\t/*for(let i = 0; i < animations.length; i++){\n\t\t\t\tanimations[i].execute([A.steps.x, A.steps.y], [A.drawnSteps.stepSize.x, A.drawnSteps.stepSize.y], [canvas.width, canvas.height], context, this.drawFrame);\n\t\t\t}*/\n\t\t});\n\t}\n\tpause = () => {\n\t\twindow.clearInterval(mainLoop);\n\t\tpaused = true;\n\t\tthis.setState({count: k});\n\t}\n\tstop = () => {\n\t\twindow.clearInterval(mainLoop);\n\t\tmainLoop = 0;\n\t\tk = 0;\n\t\tthis.setState({count: k}, this.drawFrame);\n\t}\n\tdrawFrame = () => {\n\t\tlet A = this.state;\n\t\tconst canvas = this.refs.canvas;\n\t\tconst context = canvas.getContext(\"2d\");\n\t\tcontext.clearRect(0, 0, canvas.width, canvas.height);\n\t\tFunctions.drawYAxis(canvas.width/2, A.colors.axeColor, canvas.height, A.widths.axeWidth, context);\n\t\tFunctions.drawXAxis(canvas.height/2, A.colors.axeColor, canvas.width, A.widths.axeWidth, context);\n\t\tFunctions.drawOnX(canvas.width/2, canvas.height/2, A.steps.x[0], A.drawnSteps.nbSteps.x[0], A.drawnSteps.stepSize.x[0], A.colors.dashColor, A.colors.wireColor, A.widths.dashWidth.x[0], A.widths.wireWidth[0], A.font.x[0], context);\n\t\tFunctions.drawOnY(canvas.width/2, canvas.height/2, A.steps.y[0], A.drawnSteps.nbSteps.y[0], A.drawnSteps.stepSize.y[0], A.colors.dashColor, A.colors.wireColor, A.widths.dashWidth.y[0], A.widths.wireWidth[0], A.font.y[0], context);\n\t\tFunctions.drawOnMinusX(canvas.width/2, canvas.height/2, A.steps.x[1], A.drawnSteps.nbSteps.x[0], A.drawnSteps.stepSize.x[1], A.colors.dashColor, A.colors.wireColor, A.widths.dashWidth.x[1], A.widths.wireWidth[0], A.font.x[1], context);\n\t\tFunctions.drawOnMinusY(canvas.width/2, canvas.height/2, A.steps.y[1], A.drawnSteps.nbSteps.y[1], A.drawnSteps.stepSize.y[1], A.colors.dashColor, A.colors.wireColor, A.widths.dashWidth.y[1], A.widths.wireWidth[0], A.font.y[1], context);\n\t}\n\tcomponentDidMount(){\n\t\tthis.setState({canvas: this.refs.canvasW}, () => {\n\t\t\tthis.setState(() => {\n\t\t\t\tlet tempSteps = this.state.drawnSteps;\n\t\t\t\tlet nbXSteps = parseInt((this.state.canvas.clientWidth/2)/tempSteps.stepSize.x[0]);\n\t\t\t\tlet nbYSteps = parseInt((this.state.canvas.clientHeight/2)/tempSteps.stepSize.y[0]);\n\t\t\t\ttempSteps.nbSteps.x = [nbXSteps, nbXSteps];\n\t\t\t\ttempSteps.nbSteps.y = [nbYSteps, nbYSteps];\n\t\t\t\treturn tempSteps;\n\t\t\t});\n\t\t});\n\t}\n\tcomponentDidUpdatedate(){\n\t}\n\trender(){\n\t\tif(!this.state.canvas){\n\t\t\treturn (<div id=\"canvasWrapper\" style={{width: (!this.props.settStatus) ? \"80%\" : \"50%\"}}>\n\t\t\t\t\t<LControls play={this.play} pause={this.pause} stop={this.stop} count={(this.state.count*frameDuration)/1000}/>\n\t\t\t\t\t<div id=\"canvas\" ref=\"canvasW\"></div>\n\t\t\t\t</div>);\n\t\t}\n\t\telse{\n\t\t\treturn (<div id=\"canvasWrapper\" style={{width: (!this.props.settStatus) ? \"80%\" : \"50%\"}}>\n\t\t\t\t\t<LControls play={this.play} pause={this.pause} stop={this.stop} count={(this.state.count*frameDuration)/1000}/>\n\t\t\t\t\t<div id=\"canvas\" ref=\"canvasW\">\n\t\t\t\t\t\t<canvas ref=\"canvas\" id=\"graph\" width={this.state.canvas.clientWidth} height={this.state.canvas.clientHeight}></canvas>\n\t\t\t\t\t\t<canvas id=\"toplayer\" width={this.state.canvas.clientWidth} height={this.state.canvas.clientHeight}></canvas>\n\t\t\t\t\t</div>\n\t\t\t\t</div>);\n\t\t}\n\t}\n}\n\nclass LControls extends React.Component {\n\tconstructor(props) {\n\t  super(props);\n\t\n\t  this.state = {};\n\t}\n\trender(){\n\t\treturn (<nav id=\"leftControls\">\n\t\t\t\t\t<span>\n\t\t\t\t\t\t<h4>Animation 1 </h4>\n\t\t\t\t\t</span>\n\t\t\t\t\t<nav>\t\n\t\t\t\t\t\t<button onClick={this.props.play}><FontAwesomeIcon icon={faPlay} /></button>\n\t\t\t\t\t\t<button onClick={this.props.pause}><FontAwesomeIcon icon={faPause} /></button>\n\t\t\t\t\t\t<button onClick={this.props.stop}><FontAwesomeIcon icon={faStop} /></button>\n\t\t\t\t\t</nav>\t\t\t\t\n\t\t\t\t\t<span>\n\t\t\t\t\t\t<h4 className=\"count\">{this.props.count}</h4>\n\t\t\t\t\t\t<h4 className=\"seconds\"> s </h4>\n\t\t\t\t\t</span>\n\t\t\t\t\t<nav>\n\t\t\t\t\t\t<button><FontAwesomeIcon icon={faSearchPlus} /></button>\n\t\t\t\t\t\t<button><FontAwesomeIcon icon={faSearchMinus} /></button>\n\t\t\t\t\t\t<button><FontAwesomeIcon icon={faArrowLeft} /></button>\n\t\t\t\t\t\t<button><FontAwesomeIcon icon={faArrowRight} /></button>\n\t\t\t\t\t\t<button><FontAwesomeIcon icon={faArrowUp} /></button>\n\t\t\t\t\t\t<button><FontAwesomeIcon icon={faArrowDown} /></button>\n\t\t\t\t\t</nav>\n\t\t\t\t\t<nav>\n\t\t\t\t\t\t<button><b>Save</b></button>\n\t\t\t\t\t\t<button><b>Export</b></button>\n\t\t\t\t\t</nav>\n\t\t\t\t</nav>);\n\t}\n}\t\n\nclass RControls extends React.Component {\n\tconstructor(props) {\n\t  super(props);\n\t\n\t  this.state = {};\n\t}\n\trender(){\n\t\treturn(<nav id=\"rightControls\">\n\t\t\t\t\t<span className=\"title\">\n\t\t\t\t\t\t<h4>Curves</h4>\n\t\t\t\t\t</span>\n\t\t\t\t\t<span className=\"buttons\">\n\t\t\t\t\t\t<button> Clear All </button>\n\t\t\t\t\t</span>\n\t\t\t\t</nav>);\n\t}\n}\n\nclass ParamWrapper extends React.Component {\n\tconstructor(props) {\n\t  super(props);\n\t\n\t  this.state = {curves: curves};\n\t}\n\tnewCurve = () => {\n\t\tcurves[0].push(new Curve2d([], [], \"#FFFFFF\", 3, [1, 0]));\n\t\tanimations.push(new Animation(0, 0, 1, 10, [[0, curves[0].length - 1]]));\n\t\tthis.setState({curves: curves});\n\t};\n\tnewPCurve = () => {\n\t\tcurves[1].push(new Curve2d([], [], \"#FFFFFF\", 3, [1, 0]));\n\t\tanimations.push(new Animation(0, 0, 1, 10, [[1, curves[1].length - 1]]));\n\t\tthis.setState({curves: curves});\n\t};\n\tdelete = (arg) => {\n\t\tcurves[arg[0]].splice(arg[1], 1);\n\t\t//Deleting curve from relevant animation\n\t\tlet indice = findInd(arg);\t\t\n\t\tanimations[indice[0]].curvInd.splice(indice[1], 1);\n\t\t//Adjusting curve indices after deletion\n\t\tanimations.forEach((el, ind) => {\n\t\t\tif(ind == indice[0]){\n\t\t\t\tif(!!(el.curvInd[indice[1]])){\n\t\t\t\t\tel.curvInd.forEach((element, index) => element[1] -= (index >= indice[1] && element[0] == arg[0]) ? 1 : 0);\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(ind > indice[0]){\t\n\t\t\t\tel.curvInd.forEach((element, index) => element[1] -= (element[0] == arg[0]) ? 1 : 0);\n\t\t\t}\n\t\t});\n\t\t//Deleting empty animations that may be due to deletion\n\t\tanimations = animations.filter(el => el.curvInd.length > 0);\n\t\t//Ajdusting animations left with only one curve by setting their type to 0\n\t\tanimations.forEach(el => {if(el.curvInd.length == 1) el.type = 0}); \n\t\tthis.setState({curves: curves});\n\t};\n\trender(){\n\t\treturn (<div id=\"paramWrapper\">\n\t\t\t\t\t<RControls />\n\t\t\t\t\t<div id=\"parameters\">\n\t\t\t\t\t\t<div className=\"buttons\">\n\t\t\t\t\t\t\t<button id=\"addc\" onClick={this.newCurve}> <FontAwesomeIcon icon={faPlus} /> FCurve </button>\n\t\t\t\t\t\t\t<button id=\"addp\" onClick={this.newPCurve}> <FontAwesomeIcon icon={faPlus} /> PCurve </button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"inputs\">\n\t\t\t\t\t\t\t{animations.map((el, ind) => {\n\t\t\t\t\t\t\t\tif(el.curvInd.length == 1){\n\t\t\t\t\t\t\t\t\treturn <WrCurve key={[el.curvInd[0][0], el.curvInd[0][1]].toString()} type={el.curvInd[0][0]} cindex={el.curvInd[0][1]} delete={this.delete} showSett={this.props.showSett} currentSett={this.props.currentSett} settStatus={this.props.settStatus}/>; \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\telse{\n\t\t\t\t\t\t\t\t\treturn <span className=\"inputWrapper\" key={ind}>\n\t\t\t\t\t\t\t\t\t\t\t{el.curvInd.map((element, index) => {\n\t\t\t\t\t\t\t\t\t\t\t\treturn <WrCurve key={[element[0], element[1]].toString()} type={element[0]} cindex={element[1]} delete={this.delete} showSett={this.props.showSett} currentSett={this.props.currentSett} settStatus={this.props.settStatus}/>\n\t\t\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t\t\t</span>;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t</div><br/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div id=\"logo\">\n\t\t\t\t\t\t<img src=\"drawing.svg\" width=\"35%\"/>\n\t\t\t\t\t</div>\n\t\t\t\t</div>);\t\n\t}\n}\n\nclass App extends React.Component {\n\tconstructor(props){\n\t\tsuper(props);\t\n\t\tcurves[0].push(new Curve2d([], [], \"#FFFFFF\", 3, [1, 0]));\n\t\tanimations.push(new Animation(0, 0, 1, 10, [[0, 0]]));\n\t\tthis.state = {curves: curves, settStatus: false, currentSett: []};\n\t};\n\tshowSett = (curveInd) => {\n\t\tthis.setState({settStatus: true, currentSett: curveInd});\n\t}\n\thideSett = () => {\n\t\tthis.setState({settStatus: false, currentSett: [[]]});\t\n\t}\n\trender(){\n\t\tlet sett = (this.state.settStatus) ? <Settings currentSett={this.state.currentSett} hide={this.hideSett}/> : null;\n\t\treturn (<div id=\"main\">\n\t\t\t\t\t<div id=\"core\">\n\t\t\t\t\t\t<Canvas/>\n\t\t\t\t\t\t{sett}\n\t\t\t\t\t\t<ParamWrapper showSett={this.showSett} currentSett={this.state.currentSett} settStatus={this.state.settStatus}/>\n\t\t\t\t\t</div>\n\t\t\t\t</div>);\n\t}\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}